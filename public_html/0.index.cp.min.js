webpackJsonp([0],Array(338).concat([
/* 338 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


var _generate = __webpack_require__(93);

var _generate2 = _interopRequireDefault(_generate);

var _sprites = __webpack_require__(345);

var _sprites2 = _interopRequireDefault(_sprites);

var _backgrounds = __webpack_require__(374);

var _backgrounds2 = _interopRequireDefault(_backgrounds);

var _game = __webpack_require__(364);

var _game2 = _interopRequireDefault(_game);

var _grass = __webpack_require__(376);

var _grass2 = _interopRequireDefault(_grass);

var _dave = __webpack_require__(363);

var _dave2 = _interopRequireDefault(_dave);

var _waitor = __webpack_require__(378);

var _waitor2 = _interopRequireDefault(_waitor);

var _wheel = __webpack_require__(379);

var _wheel2 = _interopRequireDefault(_wheel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _generate2.default)(regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _sprites2.default;

        case 2:
          _context.next = 4;
          return _backgrounds2.default;

        case 4:
          _game2.default.on('start', function () {
            _game2.default.add.actor(new _grass2.default(), new _dave2.default(), new _waitor2.default(), new _wheel2.default([224, 704]), new _wheel2.default([1344, 704]), new _wheel2.default([1814, 709])).add.background(_backgrounds.train, _backgrounds.train.copy([1590, 5])).add.foreground(_backgrounds.rails, _backgrounds.rails.copy([1590, 5]));
          }).on('end', function () {
            _game2.default.reset().play();
          }).on('resize', function () {
            _game2.default.canvas.style.width = window.innerWidth + 'px';
          }).on('scrollout', function () {
            _game2.default.pause();
          }).on('scrollin', function () {
            _game2.default.unpause();
          }).play();

        case 5:
        case 'end':
          return _context.stop();
      }
    }
  }, _callee, this);
}));

/***/ },
/* 339 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


var _generate = __webpack_require__(93);

var _generate2 = _interopRequireDefault(_generate);

var _sprites = __webpack_require__(357);

var _sprites2 = _interopRequireDefault(_sprites);

var _backgrounds = __webpack_require__(372);

var _backgrounds2 = _interopRequireDefault(_backgrounds);

var _game = __webpack_require__(361);

var _game2 = _interopRequireDefault(_game);

var _abby = __webpack_require__(371);

var _abby2 = _interopRequireDefault(_abby);

var _monster = __webpack_require__(373);

var _monster2 = _interopRequireDefault(_monster);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

(0, _generate2.default)(regeneratorRuntime.mark(function _callee() {
  var grasses, trees, flowers, front, i, j, tree, y, _j, bushx;

  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _sprites2.default;

        case 2:
          _context.next = 4;
          return _backgrounds2.default;

        case 4:
          grasses = [], trees = [], flowers = [];
          front = [];


          for (i = 0; i < _game2.default.width; i += _backgrounds.grass.dimensions[0]) {
            for (j = -100; j < _backgrounds.grass.dimensions[0]; j += _game2.default.util.random.integer.from(60).to(80)) {
              tree = [_backgrounds.tree1, _backgrounds.tree2][_game2.default.util.random.integer.from(0).to(2)];
              y = _game2.default.util.random.integer.from(-220).to(20);

              trees.push(tree.copy([i + j, y, y - 10000]));
              if (_game2.default.util.random.integer.from(0).to(2) === 0) {
                front.push(tree.copy([i + j, y + 620, y + 10000]));
              }
            }
            for (_j = 0; _j < _game2.default.height; _j += _backgrounds.grass.dimensions[1]) {
              grasses.push(_backgrounds.grass.copy([i, _j]));
              flowers.push(_backgrounds.flower.copy([i + _game2.default.util.random.integer.from(0).to(_backgrounds.grass.dimensions[0]), _j + _game2.default.util.random.integer.from(0).to(_backgrounds.grass.dimensions[1])]));
            }
          }
          bushx = _game2.default.util.random.integer.from(200).to(_game2.default.width - 200);

          _game2.default.on('start', function () {
            var _abbyAndElliot$add$ac, _abbyAndElliot$add$ac2;

            (_abbyAndElliot$add$ac = (_abbyAndElliot$add$ac2 = _game2.default.add.actor(new _abby2.default(), new _monster2.default()).add).background.apply(_abbyAndElliot$add$ac2, _toConsumableArray(grasses).concat(_toConsumableArray(trees), _toConsumableArray(flowers), [_backgrounds.bush.copy([bushx, 220, -1000])])).add).foreground.apply(_abbyAndElliot$add$ac, front);
          }).on('end', function () {
            _game2.default.reset().play();
          }).on('resize', function () {
            _game2.default.canvas.style.width = window.innerWidth + 'px';
          }).on('scrollout', function () {
            _game2.default.pause();
          }).on('scrollin', function () {
            _game2.default.unpause();
          }).play();

        case 9:
        case 'end':
          return _context.stop();
      }
    }
  }, _callee, this);
}));

/***/ },
/* 340 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


var _generate = __webpack_require__(93);

var _generate2 = _interopRequireDefault(_generate);

var _sprites = __webpack_require__(355);

var _sprites2 = _interopRequireDefault(_sprites);

var _backgrounds = __webpack_require__(380);

var _backgrounds2 = _interopRequireDefault(_backgrounds);

var _game = __webpack_require__(366);

var _game2 = _interopRequireDefault(_game);

var _player = __webpack_require__(383);

var _player2 = _interopRequireDefault(_player);

var _card = __webpack_require__(381);

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _generate2.default)(regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _sprites2.default;

        case 2:
          _context.next = 4;
          return _backgrounds2.default;

        case 4:
          _game2.default.on('start', function () {
            _game2.default.add.actor(new _player2.default(_sprites.green, [79, 290]), new _player2.default(_sprites.blue, [79, 360]), new _player2.default(_sprites.purple, [79, 430]), new _card2.default()).add.background(_backgrounds.board);
          }).on('end', function () {
            _game2.default.reset().play();
          }).on('resize', function () {
            _game2.default.canvas.style.width = window.innerWidth + 'px';
          }).on('scrollout', function () {
            _game2.default.pause();
          }).on('scrollin', function () {
            _game2.default.unpause();
          }).play();

        case 5:
        case 'end':
          return _context.stop();
      }
    }
  }, _callee, this);
}));

/***/ },
/* 341 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


var _generate = __webpack_require__(93);

var _generate2 = _interopRequireDefault(_generate);

var _sprites = __webpack_require__(343);

var _sprites2 = _interopRequireDefault(_sprites);

var _const = __webpack_require__(346);

var _game = __webpack_require__(367);

var _game2 = _interopRequireDefault(_game);

var _player = __webpack_require__(350);

var _player2 = _interopRequireDefault(_player);

var _wall = __webpack_require__(391);

var _wall2 = _interopRequireDefault(_wall);

var _spark = __webpack_require__(369);

var _spark2 = _interopRequireDefault(_spark);

var _bird = __webpack_require__(384);

var _bird2 = _interopRequireDefault(_bird);

var _butterfly = __webpack_require__(385);

var _butterfly2 = _interopRequireDefault(_butterfly);

var _door = __webpack_require__(386);

var _door2 = _interopRequireDefault(_door);

var _flower = __webpack_require__(387);

var _flower2 = _interopRequireDefault(_flower);

var _tree = __webpack_require__(390);

var _tree2 = _interopRequireDefault(_tree);

var _switch = __webpack_require__(389);

var _switch2 = _interopRequireDefault(_switch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _generate2.default)(regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _sprites2.default;

        case 2:
          _game2.default.on('start', function () {
            _game2.default.canvas.style.backgroundColor = '#ffffff';
            var wallPos = 0;
            _game2.default.add.actor(new _player2.default(), new _wall2.default([wallPos, 400], [256, _game2.default.height - 400]), new _wall2.default([wallPos += 256, 340], [128, _game2.default.height - 340]), new _wall2.default([wallPos += 128, 400], [448, _game2.default.height - 400]), new _wall2.default([wallPos += 448, 416], [64, _game2.default.height - 416], false), new _switch2.default([wallPos, 400], 200), new _wall2.default([wallPos += 64, 200], [128, _game2.default.height - 200]), new _wall2.default([wallPos += 128, 400], [Math.ceil((_game2.default.width - wallPos) / 16) * 16, _game2.default.height - 400]), new _spark2.default([300, 320], _const.Color.Red), new _spark2.default([680, 380], _const.Color.Green), new _spark2.default([1200, 380], _const.Color.White), new _door2.default([1400, 400], _const.Color.Green), new _tree2.default([276, 340]), new _tree2.default([660, 400]), new _tree2.default([1500, 400]), new _flower2.default([296, 340]), new _flower2.default([988, 200]), new _flower2.default([_game2.default.util.random.integer.from(20).to(230), 400]), new _flower2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _flower2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _flower2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _flower2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _flower2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _flower2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _bird2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _bird2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _bird2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(400).to(700), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(1100).to(1600), 400]), new _butterfly2.default([_game2.default.util.random.integer.from(1100).to(1600), 400])).global.colors = new Set([_const.Color.White]);
          }).on('end', function () {
            _game2.default.reset().play();
          }).on('resize', function () {
            _game2.default.canvas.style.width = window.innerWidth + 'px';
          }).on('scrollout', function () {
            _game2.default.pause();
          }).on('scrollin', function () {
            _game2.default.unpause();
          }).play();

        case 3:
        case 'end':
          return _context.stop();
      }
    }
  }, _callee, this);
}));

/***/ },
/* 342 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.KEYFRAME_END = exports.Input = undefined;

var _enumerate = __webpack_require__(351);

var _enumerate2 = _interopRequireDefault(_enumerate);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Input = exports.Input = (0, _enumerate2.default)('Left', 'Right', 'Up', 'Down', 'Attack', 'Defend', 'Talk');
var KEYFRAME_END = exports.KEYFRAME_END = Symbol('KEYFRAME_END');

/***/ },
/* 343 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tree_w = exports.tree_r = exports.tree_g = exports.switch_platform = exports.spark = exports.puff = exports.player = exports.grass = exports.flower_w = exports.flower_r = exports.flower_g = exports.door = exports.butterfly = exports.bird_flying = exports.bird = undefined;

var _sprite = __webpack_require__(348);

var _sprite2 = _interopRequireDefault(_sprite);

var _bird = __webpack_require__(416);

var _bird2 = _interopRequireDefault(_bird);

var _bird_flying = __webpack_require__(417);

var _bird_flying2 = _interopRequireDefault(_bird_flying);

var _butterfly = __webpack_require__(418);

var _butterfly2 = _interopRequireDefault(_butterfly);

var _door = __webpack_require__(419);

var _door2 = _interopRequireDefault(_door);

var _flower_g = __webpack_require__(420);

var _flower_g2 = _interopRequireDefault(_flower_g);

var _flower_r = __webpack_require__(421);

var _flower_r2 = _interopRequireDefault(_flower_r);

var _flower_w = __webpack_require__(422);

var _flower_w2 = _interopRequireDefault(_flower_w);

var _grass = __webpack_require__(423);

var _grass2 = _interopRequireDefault(_grass);

var _player = __webpack_require__(424);

var _player2 = _interopRequireDefault(_player);

var _puff = __webpack_require__(425);

var _puff2 = _interopRequireDefault(_puff);

var _spark = __webpack_require__(426);

var _spark2 = _interopRequireDefault(_spark);

var _switch = __webpack_require__(427);

var _switch2 = _interopRequireDefault(_switch);

var _tree_g = __webpack_require__(428);

var _tree_g2 = _interopRequireDefault(_tree_g);

var _tree_r = __webpack_require__(429);

var _tree_r2 = _interopRequireDefault(_tree_r);

var _tree_w = __webpack_require__(430);

var _tree_w2 = _interopRequireDefault(_tree_w);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bird = exports.bird = new _sprite2.default(_bird2.default, 4);
var bird_flying = exports.bird_flying = new _sprite2.default(_bird_flying2.default, 4);
var butterfly = exports.butterfly = new _sprite2.default(_butterfly2.default, 4);
var door = exports.door = new _sprite2.default(_door2.default);
var flower_g = exports.flower_g = new _sprite2.default(_flower_g2.default);
var flower_r = exports.flower_r = new _sprite2.default(_flower_r2.default);
var flower_w = exports.flower_w = new _sprite2.default(_flower_w2.default);
var grass = exports.grass = new _sprite2.default(_grass2.default, 5);
var player = exports.player = new _sprite2.default(_player2.default, 5);
var puff = exports.puff = new _sprite2.default(_puff2.default, 8);
var spark = exports.spark = new _sprite2.default(_spark2.default, 17);
var switch_platform = exports.switch_platform = new _sprite2.default(_switch2.default, 2);
var tree_g = exports.tree_g = new _sprite2.default(_tree_g2.default);
var tree_r = exports.tree_r = new _sprite2.default(_tree_r2.default);
var tree_w = exports.tree_w = new _sprite2.default(_tree_w2.default);

exports.default = Promise.all([bird, bird_flying, butterfly, door, flower_g, flower_r, flower_w, grass, player, puff, spark, switch_platform, tree_g, tree_r, tree_w].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 344 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _actor = __webpack_require__(347);

var _actor2 = _interopRequireDefault(_actor);

var _game = __webpack_require__(367);

var _game2 = _interopRequireDefault(_game);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _actor2.default)(_game2.default);

/***/ },
/* 345 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fork = exports.monster = exports.coal = exports.wheel = exports.grass = exports.waitor = exports.dave = undefined;

var _sprite = __webpack_require__(348);

var _sprite2 = _interopRequireDefault(_sprite);

var _dave = __webpack_require__(402);

var _dave2 = _interopRequireDefault(_dave);

var _waitor = __webpack_require__(408);

var _waitor2 = _interopRequireDefault(_waitor);

var _grass = __webpack_require__(404);

var _grass2 = _interopRequireDefault(_grass);

var _wheel = __webpack_require__(409);

var _wheel2 = _interopRequireDefault(_wheel);

var _coal = __webpack_require__(401);

var _coal2 = _interopRequireDefault(_coal);

var _monster = __webpack_require__(405);

var _monster2 = _interopRequireDefault(_monster);

var _fork = __webpack_require__(403);

var _fork2 = _interopRequireDefault(_fork);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var dave = exports.dave = new _sprite2.default(_dave2.default, 5);
var waitor = exports.waitor = new _sprite2.default(_waitor2.default);
var grass = exports.grass = new _sprite2.default(_grass2.default);
var wheel = exports.wheel = new _sprite2.default(_wheel2.default);
var coal = exports.coal = new _sprite2.default(_coal2.default);
var monster = exports.monster = new _sprite2.default(_monster2.default, 3);
var fork = exports.fork = new _sprite2.default(_fork2.default);

exports.default = Promise.all([dave, waitor, grass, wheel, coal, monster, fork].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 346 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Color = undefined;

var _enumerate = __webpack_require__(351);

var _enumerate2 = _interopRequireDefault(_enumerate);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Color = exports.Color = {
  White: 0xFFFFFF,
  Red: 0xFF0000,
  Green: 0x008000
};

/***/ },
/* 347 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Actor = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _sprite = __webpack_require__(348);

var _sprite2 = _interopRequireDefault(_sprite);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _Symbolic = _slicedToArray(_symbolic2.default, 6),
    SPRITE = _Symbolic[0],
    POSITION = _Symbolic[1],
    GAME = _Symbolic[2],
    ORIGIN = _Symbolic[3],
    BLEND = _Symbolic[4],
    SUBIMAGE = _Symbolic[5];

var Actor = exports.Actor = void 0;

exports.default = function (game) {
  return exports.Actor = Actor = function () {
    function Actor(sprite) {
      _classCallCheck(this, Actor);

      this[GAME] = game;
      this.sprite = sprite;
      this.position = [0, 0, 0];
      this.subimage = 0;
      this.blend = 0xFFFFFF;
      this.origin = [0, 0];
      this.alpha = 1;
      if (this.sprite) {
        this.origin = [this.sprite.dimensions[0] / 2, this.sprite.dimensions[1] / 2];
      }
      this.scale = [1, 1];
    }

    _createClass(Actor, [{
      key: 'react',
      value: function react(input) {}
    }, {
      key: 'update',
      value: function update() {}
    }, {
      key: 'destroy',
      value: function destroy() {
        var i = this.game.actors.indexOf(this);
        this.game.actors.splice(i, 1);
      }
    }, {
      key: 'draw',
      value: function draw(context) {
        var _sprite$blend;

        if (!this.sprite) {
          return;
        }
        context.globalAlpha = this.alpha;
        (_sprite$blend = this.sprite.blend(this.blend)).draw.apply(_sprite$blend, [context, this.subimage, Math.sign(this.scale[0]) * this.x - this.origin[0], Math.sign(this.scale[1]) * this.y - this.origin[1], this.sprite.dimensions[0], this.sprite.dimensions[1]].concat(_toConsumableArray(this.scale)));
        context.globalAlpha = 1;
      }
    }, {
      key: 'x',
      get: function get() {
        return this[POSITION][0];
      },
      set: function set(x) {
        this[POSITION][0] = x;
      }
    }, {
      key: 'y',
      get: function get() {
        return this[POSITION][1];
      },
      set: function set(y) {
        this[POSITION][1] = y;
      }
    }, {
      key: 'z',
      get: function get() {
        return this[POSITION][2];
      },
      set: function set(z) {
        this[POSITION][2] = z;
      }
    }, {
      key: 'origin',
      get: function get() {
        return this[ORIGIN];
      },
      set: function set(origin) {
        if (Array.isArray(origin)) {
          this[ORIGIN] = origin;
        } else {
          throw new TypeError('Origin must be an array');
        }
      }
    }, {
      key: 'position',
      get: function get() {
        return this[POSITION];
      },
      set: function set(position) {
        if (Array.isArray(position)) {
          this[POSITION] = position;
          while (this[POSITION].length < 3) {
            this[POSITION].push(0);
          }
        } else {
          throw new TypeError('Position must be an array');
        }
      }
    }, {
      key: 'blend',
      get: function get() {
        return this[BLEND];
      },
      set: function set(color) {
        if (typeof color === 'number') {
          this[BLEND] = color;
        } else if (color[0] === '#') {
          this[BLEND] = parseInt(color.slice(1), 16);
        } else if (color.slice(0, 3).toLowerCase() === 'rgb') {
          this[BLEND] = color.slice(4, -1).split(',').map(function (x) {
            return parseInt(x, 10);
          }).reduce(function (p, x) {
            return p << 2 + x;
          }, 0);
        }
        if (this.sprite) {
          this.sprite.addBlend(this.blend);
        }
      }
    }, {
      key: 'sprite',
      get: function get() {
        return this[SPRITE];
      },
      set: function set(sprite) {
        if (sprite instanceof _sprite2.default || sprite === null || sprite === undefined) {
          this[SPRITE] = sprite;
        } else {
          throw new TypeError('Cannot set sprite to something that is not a Sprite');
        }
      }
    }, {
      key: 'subimage',
      get: function get() {
        return this[SUBIMAGE];
      },
      set: function set(index) {
        var limit = 1;
        if (this.sprite) {
          limit = this.sprite.frames.length;
        }
        this[SUBIMAGE] = index % limit;
      }
    }, {
      key: 'dimensions',
      get: function get() {
        if (this.sprite) {
          return this.sprite.dimensions;
        } else {
          return [0, 0];
        }
      }
    }, {
      key: 'game',
      get: function get() {
        return game;
      }
    }]);

    return Actor;
  }();
};

/***/ },
/* 348 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _Symbolic = _slicedToArray(_symbolic2.default, 5),
    IMAGE = _Symbolic[0],
    DIMENSIONS = _Symbolic[1],
    LOADED = _Symbolic[2],
    BLENDS = _Symbolic[3],
    SPRITE = _Symbolic[4];

function blend(canvas, color) {
  var context = canvas.getContext('2d');
  var img = context.getImageData(0, 0, canvas.width, canvas.height);
  var r = (color >> 16 & 0xFF) / 0xFF,
      g = (color >> 8 & 0xFF) / 0xFF,
      b = (color & 0xFF) / 0xFF;

  for (var i = 0; i < img.data.length; i += 4) {
    img.data[i] *= r;
    img.data[i + 1] *= g;
    img.data[i + 2] *= b;
  }
  context.clearRect(0, 0, canvas.width, canvas.height);
  context.putImageData(img, 0, 0);
}

var Sprite = function () {
  function Sprite(imageUrl) {
    var _this = this;

    var frames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

    _classCallCheck(this, Sprite);

    if (imageUrl) {
      this[IMAGE] = new Image();
      this[IMAGE].src = imageUrl;
      this[DIMENSIONS] = [0, 0];
      this[LOADED] = new Promise(function (resolve, reject) {
        _this[IMAGE].onload = function () {
          _this[DIMENSIONS] = [Math.floor(_this[IMAGE].width / frames), _this[IMAGE].height];
          resolve();
        };
        _this[IMAGE].onerror = reject;
      });
      this[BLENDS] = new Map([[0xFFFFFF, this]]);
    }
  }

  _createClass(Sprite, [{
    key: 'addBlend',
    value: function addBlend(color) {
      if (!this[BLENDS].has(color)) {
        var canvas = document.createElement('canvas');
        canvas.width = this[IMAGE].width;
        canvas.height = this[IMAGE].height;
        canvas.style.display = 'none';
        canvas.style.width = canvas.width + 'px';
        canvas.style.height = canvas.height + 'px';
        var context = canvas.getContext('2d');
        context.clearRect(0, 0, canvas.width, canvas.height);
        context.drawImage(this[BLENDS].get(0xFFFFFF)[IMAGE], 0, 0);
        blend(canvas, color);
        this[BLENDS].set(color, new BlendedSprite(canvas, this[SPRITE] || this));
      }
    }
  }, {
    key: 'blend',
    value: function blend(color) {
      return this[BLENDS].get(color);
    }
  }, {
    key: 'draw',
    value: function draw(context, frame, x, y) {
      var w = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this[DIMENSIONS][0];
      var h = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : this[DIMENSIONS][1];
      var sx = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 1;
      var sy = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;

      context.save();
      context.scale.apply(context, _toConsumableArray([sx, sy].map(Math.sign)));
      context.drawImage.apply(context, [this[IMAGE]].concat(_toConsumableArray(this.frames[frame]), [Math.floor(x), Math.floor(y), Math.floor(w) * Math.abs(sx), Math.floor(h) * Math.abs(sy)]));
      context.restore();
    }
  }, {
    key: 'drawRotated',
    value: function drawRotated(context, frame, x, y, angle) {
      var cx = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : this[DIMENSIONS][0] / 2;
      var cy = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : this[DIMENSIONS][1] / 2;
      var w = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : this[DIMENSIONS][0];
      var h = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : this[DIMENSIONS][1];
      var sx = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;
      var sy = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : 1;

      context.save();
      context.translate(Math.floor(x), Math.floor(y));
      context.rotate(angle * Math.PI / 180);
      context.scale.apply(context, _toConsumableArray([sx, sy].map(Math.sign)));
      context.drawImage.apply(context, [this[IMAGE]].concat(_toConsumableArray(this.frames[frame]), [-Math.floor(cx), -Math.floor(cy), Math.floor(w) * Math.abs(sx), Math.floor(h) * Math.abs(sy)]));
      context.restore();
    }
  }, {
    key: 'frames',
    get: function get() {
      if (window.Proxy) {
        return new Proxy(this, {
          get: function get(target, frame) {
            if (frame === 'length') {
              return target[IMAGE].width / target[DIMENSIONS][0];
            } else {
              return [target[DIMENSIONS][0] * (frame % (target[IMAGE].width / target[DIMENSIONS][0])), 0].concat(_toConsumableArray(target[DIMENSIONS]));
            }
          }
        });
      } else {
        var frames = [];
        for (var i = 0; i < this[IMAGE].width / this[DIMENSIONS][0]; ++i) {
          frames.push([this[DIMENSIONS][0] * (i % (this[IMAGE].width / this[DIMENSIONS][0])), 0].concat(_toConsumableArray(this[DIMENSIONS])));
        }
        return frames;
      }
    }
  }, {
    key: 'dimensions',
    get: function get() {
      return this[DIMENSIONS];
    }
  }, {
    key: 'image',
    get: function get() {
      return this[IMAGE];
    }
  }, {
    key: 'loaded',
    get: function get() {
      return this[LOADED];
    }
  }]);

  return Sprite;
}();

var BlendedSprite = function (_Sprite) {
  _inherits(BlendedSprite, _Sprite);

  function BlendedSprite(canvas, sprite) {
    _classCallCheck(this, BlendedSprite);

    var _this2 = _possibleConstructorReturn(this, (BlendedSprite.__proto__ || Object.getPrototypeOf(BlendedSprite)).call(this, null, sprite.frames.length));

    _this2[SPRITE] = sprite;
    _this2[IMAGE] = canvas;
    return _this2;
  }

  _createClass(BlendedSprite, [{
    key: 'blend',
    value: function blend(color) {
      return this[SPRITE].blend(color);
    }
  }, {
    key: 'addBlend',
    value: function addBlend(color) {
      return this[SPRITE].addBlend(color);
    }
  }, {
    key: 'frames',
    get: function get() {
      return this[SPRITE].frames;
    }
  }, {
    key: 'dimensions',
    get: function get() {
      return this[SPRITE].dimensions;
    }
  }, {
    key: 'loaded',
    get: function get() {
      return this[SPRITE].loaded;
    }
  }, {
    key: 'image',
    get: function get() {
      return this[IMAGE];
    }
  }]);

  return BlendedSprite;
}(Sprite);

exports.default = Sprite;

/***/ },
/* 349 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _actor = __webpack_require__(347);

var _actor2 = _interopRequireDefault(_actor);

var _game = __webpack_require__(364);

var _game2 = _interopRequireDefault(_game);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _actor2.default)(_game2.default);

/***/ },
/* 350 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _const = __webpack_require__(342);

var _sprites = __webpack_require__(343);

var _solid = __webpack_require__(359);

var _solid2 = _interopRequireDefault(_solid);

var _spark = __webpack_require__(369);

var _spark2 = _interopRequireDefault(_spark);

var _puff = __webpack_require__(388);

var _puff2 = _interopRequireDefault(_puff);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var accel = 1;
var gravity = 0.25;
var speed = 3;
var jump = -6;

var Player = function (_Actor) {
  _inherits(Player, _Actor);

  function Player() {
    _classCallCheck(this, Player);

    var _this = _possibleConstructorReturn(this, (Player.__proto__ || Object.getPrototypeOf(Player)).call(this, _sprites.player));

    _this.haxis = 0;

    _this.hsp = 0;
    _this.vsp = 0;
    _this.subimage = 2;

    _this.position = [32, 400, 1];
    _this.origin[1] = _this.sprite.dimensions[1];
    return _this;
  }

  _createClass(Player, [{
    key: 'react',
    value: function react(input) {
      switch (input) {
        case _const.Input.Left:
          this.haxis -= 1;
          break;
        case _const.Input.Right:
          this.haxis += 1;
          break;
        case _const.Input.Up:
          this.vsp = jump;
          break;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.haxis !== 0) {
        if (this.hsp === 0 && this.vsp === 0) {
          this.game.add.actor(new _puff2.default([this.position[0] - this.haxis * 8, this.position[1]], -this.haxis));
        }
        this.hsp += this.haxis * accel;
      }
      if (this.haxis !== Math.sign(this.hsp)) {
        this.hsp -= Math.sign(this.hsp) * Math.min(Math.abs(this.hsp), accel);
        if (Math.abs(this.hsp) < 1) {
          this.hsp = 0;
        }
      }
      this.hsp = Math.max(-speed, Math.min(this.hsp, speed));
      var wall = this.game.util.collision.between(this).at([this.x, this.y + this.vsp + 1]).and(_solid2.default);
      if (!wall) {
        this.vsp = Math.max(Math.min(this.vsp + gravity, 10), -10);
      } else {
        this.position[1] = wall.position[1];
        if (this.vsp !== 0) {
          this.game.add.actor(new _puff2.default([this.position[0] - 8, this.position[1]], -1), new _puff2.default([this.position[0] + 8, this.position[1]], 1));
          this.vsp = 0;
        }
      }
      if (this.hsp || this.vsp) {
        this.position[0] += this.hsp;
        this.position[1] += this.vsp;
      }
      var grey = Math.floor(Math.sqrt(Math.pow(this.vsp, 2) + Math.pow(this.hsp, 2)) * 2) * 10;
      this.blend = 0xFFFFFF - 0x010101 * grey;
      this.subimage = Math.floor(Math.abs(this.hsp / (speed / 2))) * Math.sign(this.hsp) + 2;
      var spark = this.game.util.collision.between(this).and(_spark2.default);
      spark && spark.useColor();
      this.haxis = 0;
    }
  }]);

  return Player;
}(_actor2.default);

exports.default = Player;

/***/ },
/* 351 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* (...string) => Map<string, symbol>

  Generates an enum given the keys. Each item in the enum is a number
*/


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  for (var _len = arguments.length, keys = Array(_len), _key = 0; _key < _len; _key++) {
    keys[_key] = arguments[_key];
  }

  if (keys.indexOf('length') !== -1) {
    throw new Error('Cannot create an enumerator with key "length"');
  }
  var n = 0;
  var e = keys.reduce(function (e, key) {
    return e[key] = n++, e;
  }, {});
  e.length = n;
  e[Symbol.iterator] = regeneratorRuntime.mark(function _callee() {
    var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, i;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            _context.prev = 3;
            _iterator = keys[Symbol.iterator]();

          case 5:
            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
              _context.next = 12;
              break;
            }

            i = _step.value;
            _context.next = 9;
            return e[i];

          case 9:
            _iteratorNormalCompletion = true;
            _context.next = 5;
            break;

          case 12:
            _context.next = 18;
            break;

          case 14:
            _context.prev = 14;
            _context.t0 = _context['catch'](3);
            _didIteratorError = true;
            _iteratorError = _context.t0;

          case 18:
            _context.prev = 18;
            _context.prev = 19;

            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }

          case 21:
            _context.prev = 21;

            if (!_didIteratorError) {
              _context.next = 24;
              break;
            }

            throw _iteratorError;

          case 24:
            return _context.finish(21);

          case 25:
            return _context.finish(18);

          case 26:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, this, [[3, 14, 18, 26], [19,, 21, 25]]);
  });
  return e;
};

/***/ },
/* 352 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _Symbolic = _slicedToArray(_symbolic2.default, 3),
    IMAGE = _Symbolic[0],
    POSITION = _Symbolic[1],
    LOADED = _Symbolic[2];

var Background = function () {
  function Background(imageUrl) {
    var _this = this;

    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, -1000000];

    _classCallCheck(this, Background);

    this.position = position;
    this[IMAGE] = new Image();
    this[IMAGE].src = imageUrl;
    this[LOADED] = new Promise(function (resolve, reject) {
      _this[IMAGE].onload = resolve;
      _this[IMAGE].onerror = reject;
    });
  }

  _createClass(Background, [{
    key: 'draw',
    value: function draw(context) {
      context.drawImage.apply(context, [this[IMAGE]].concat(_toConsumableArray(this[POSITION].slice(0, 2))));
    }
  }, {
    key: 'copy',
    value: function copy() {
      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this[POSITION];

      // this.constructor used to support Foregrounds default depth
      return new this.constructor(this[IMAGE].src, position);
    }
  }, {
    key: 'loaded',
    get: function get() {
      return this[LOADED];
    }
  }, {
    key: 'position',
    get: function get() {
      return this[POSITION];
    },
    set: function set(position) {
      if (Array.isArray(position)) {
        this[POSITION] = position;
        while (this[POSITION].length < 3) {
          this[POSITION].push(this[POSITION].length === 2 ? -1000000 : 0);
        }
      } else {
        throw new TypeError('Position must be an array');
      }
    }
  }, {
    key: 'dimensions',
    get: function get() {
      return [this[IMAGE].width, this[IMAGE].height];
    }
  }]);

  return Background;
}();

exports.default = Background;

/***/ },
/* 353 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _generate = __webpack_require__(93);

var _generate2 = _interopRequireDefault(_generate);

var _const = __webpack_require__(342);

var _util = __webpack_require__(370);

var _util2 = _interopRequireDefault(_util);

var _onResize = __webpack_require__(49);

var _onResize2 = _interopRequireDefault(_onResize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var playCount = 0;

var _Symbolic = _slicedToArray(_symbolic2.default, 13),
    CANVAS = _Symbolic[0],
    CONTEXT = _Symbolic[1],
    ON = _Symbolic[2],
    END = _Symbolic[3],
    PAUSE = _Symbolic[4],
    UNPAUSE = _Symbolic[5],
    VISIBLE = _Symbolic[6],
    KEYFRAMES = _Symbolic[7],
    ACTORS = _Symbolic[8],
    BACKGROUNDS = _Symbolic[9],
    FOREGROUNDS = _Symbolic[10],
    PLAYING = _Symbolic[11],
    GLOBAL = _Symbolic[12];

var Game = function () {
  function Game(canvas, keyframes) {
    var _this = this;

    _classCallCheck(this, Game);

    this[CANVAS] = canvas;
    this[CONTEXT] = canvas.getContext('2d');
    this[END] = false;
    this[PAUSE] = null;
    this[UNPAUSE] = null;
    this[KEYFRAMES] = keyframes;
    this[ACTORS] = [];
    this[BACKGROUNDS] = [];
    this[FOREGROUNDS] = [];
    this[PLAYING] = false;
    this[ON] = {};
    this[GLOBAL] = {};
    (0, _onResize2.default)(function () {
      return _this.trigger('resize');
    });

    // for scrollin/scrollout events
    var inView = function inView() {
      var rect = _this[CANVAS].getBoundingClientRect();
      return rect.bottom >= 0 && rect.top < (window.innerHeight || document.documentElement.clientHeight);
    };
    var scrollTimeout = void 0;
    this[VISIBLE] = inView();
    window.addEventListener('scroll', function () {
      if (scrollTimeout) {
        clearTimeout(scrollTimeout);
      }
      scrollTimeout = setTimeout(function () {
        scrollTimeout = undefined;
        if (inView() != _this[VISIBLE]) {
          _this[VISIBLE] = !_this[VISIBLE];
          if (_this[VISIBLE]) {
            _this.trigger('scrollin');
          } else {
            _this.trigger('scrollout');
          }
        }
      }, 50);
    });
  }

  _createClass(Game, [{
    key: 'play',
    value: function play() {
      var _this2 = this;

      this.trigger(this[VISIBLE] ? 'scrollin' : 'scrollout');
      playCount++;
      var frame = 0;
      this[PLAYING] = true;
      this.trigger('start');
      var step = function step(now) {
        if (!_this2[PLAYING]) {
          return;
        } // force quit
        var inputs = _this2[KEYFRAMES].get(frame++);
        if (_this2[END] || inputs.has(_const.KEYFRAME_END)) {
          _this2[END] = false;
          _this2[PLAYING] = false;
          _this2.trigger('end');
          return;
        }
        _this2[ACTORS] = _this2[ACTORS].sort(function (_ref, _ref2) {
          var _ref$position = _slicedToArray(_ref.position, 3),
              a = _ref$position[2];

          var _ref2$position = _slicedToArray(_ref2.position, 3),
              b = _ref2$position[2];

          return a - b;
        });
        _this2[CONTEXT].clearRect(0, 0, _this2[CANVAS].width, _this2[CANVAS].height);
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = _this2[ACTORS][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var actor = _step.value;
            inputs.forEach(actor.react.bind(actor));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }

        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = undefined;

        try {
          for (var _iterator2 = _this2[ACTORS][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var _actor = _step2.value;
            _actor.update();
          }
        } catch (err) {
          _didIteratorError2 = true;
          _iteratorError2 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion2 && _iterator2.return) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError2) {
              throw _iteratorError2;
            }
          }
        }

        _this2.trigger('step');
        var drawables = [].concat(_this2[BACKGROUNDS], _this2[FOREGROUNDS], _this2[ACTORS]).sort(function (_ref3, _ref4) {
          var _ref3$position = _slicedToArray(_ref3.position, 3),
              a = _ref3$position[2];

          var _ref4$position = _slicedToArray(_ref4.position, 3),
              b = _ref4$position[2];

          return a - b;
        });
        var _iteratorNormalCompletion3 = true;
        var _didIteratorError3 = false;
        var _iteratorError3 = undefined;

        try {
          for (var _iterator3 = drawables[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
            var item = _step3.value;

            item.draw(_this2[CONTEXT]);
          }
        } catch (err) {
          _didIteratorError3 = true;
          _iteratorError3 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion3 && _iterator3.return) {
              _iterator3.return();
            }
          } finally {
            if (_didIteratorError3) {
              throw _iteratorError3;
            }
          }
        }

        if (_this2[PAUSE]) {
          (0, _generate2.default)(regeneratorRuntime.mark(function _callee() {
            return regeneratorRuntime.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    _context.next = 2;
                    return this[PAUSE];

                  case 2:
                    window.requestAnimationFrame(step);

                  case 3:
                  case 'end':
                    return _context.stop();
                }
              }
            }, _callee, this);
          }), _this2);
        } else {
          window.requestAnimationFrame(step);
        }
      };
      window.requestAnimationFrame(step);
    }
  }, {
    key: 'end',
    value: function end() {
      this[END] = true;
      if (this[PAUSE]) {
        this[UNPAUSE]();
        this[PAUSE] = this[UNPAUSE] = null;
      }
    }
  }, {
    key: 'pause',
    value: function pause() {
      var _this3 = this;

      if (!this[PAUSE]) {
        this.trigger('pause');
        this[PAUSE] = new Promise(function (resolve) {
          _this3[UNPAUSE] = function () {
            _this3[PAUSE] = null;
            _this3.trigger('unpause');
            resolve();
          };
        });
      }
    }
  }, {
    key: 'unpause',
    value: function unpause() {
      if (this[PAUSE]) {
        this[UNPAUSE]();
      }
    }
  }, {
    key: 'reset',
    value: function reset() {
      this[ACTORS] = [];
      this[BACKGROUNDS] = [];
      this[FOREGROUNDS] = [];
      this[PLAYING] = false;
      this[END] = false;
      if (this[PAUSE]) {
        this[UNPAUSE]();
        this[PAUSE] = this[UNPAUSE] = null;
      }
      return this;
    }
  }, {
    key: 'on',
    value: function on(evt, fn) {
      this[ON][evt] = this[ON][evt] ? [].concat(_toConsumableArray(this[ON][evt]), [fn]) : [fn];
      return this;
    }
  }, {
    key: 'trigger',
    value: function trigger(evt) {
      var _iteratorNormalCompletion4 = true;
      var _didIteratorError4 = false;
      var _iteratorError4 = undefined;

      try {
        for (var _iterator4 = (this[ON][evt] || [])[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
          var f = _step4.value;
          f.bind(this)();
        }
      } catch (err) {
        _didIteratorError4 = true;
        _iteratorError4 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion4 && _iterator4.return) {
            _iterator4.return();
          }
        } finally {
          if (_didIteratorError4) {
            throw _iteratorError4;
          }
        }
      }
    }
  }, {
    key: 'actors',
    get: function get() {
      return this[ACTORS];
    }
  }, {
    key: 'foregrounds',
    get: function get() {
      return this[FOREGROUNDS];
    }
  }, {
    key: 'backgrounds',
    get: function get() {
      return this[BACKGROUNDS];
    }
  }, {
    key: 'width',
    get: function get() {
      return this[CANVAS].width;
    }
  }, {
    key: 'height',
    get: function get() {
      return this[CANVAS].height;
    }
  }, {
    key: 'canvas',
    get: function get() {
      return this[CANVAS];
    }
  }, {
    key: 'global',
    get: function get() {
      return this[GLOBAL];
    }
  }, {
    key: 'add',
    get: function get() {
      var _this4 = this;

      return {
        actor: function actor() {
          var _actors;

          (_actors = _this4.actors).push.apply(_actors, arguments);
          return _this4;
        },
        foreground: function foreground() {
          var _foregrounds;

          (_foregrounds = _this4.foregrounds).push.apply(_foregrounds, arguments);
          return _this4;
        },
        background: function background() {
          var _backgrounds;

          (_backgrounds = _this4.backgrounds).push.apply(_backgrounds, arguments);
          return _this4;
        }
      };
    }
  }, {
    key: 'util',
    get: function get() {
      return (0, _util2.default)(this);
    }
  }]);

  return Game;
}();

exports.default = Game;

/***/ },
/* 354 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _const = __webpack_require__(342);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _Symbolic = _slicedToArray(_symbolic2.default, 3),
    INDICES = _Symbolic[0],
    FRAMES = _Symbolic[1],
    PAIRS = _Symbolic[2];

var Keyframes = function () {
  function Keyframes() {
    _classCallCheck(this, Keyframes);

    this[PAIRS] = [];
  }

  _createClass(Keyframes, [{
    key: 'frame',
    value: function frame(_frame, values) {
      var next = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : values;

      _frame *= 60;
      this[PAIRS][Math.floor(_frame)] = [values, next];
      return this;
    }
  }, {
    key: 'end',
    value: function end(frame) {
      frame *= 60;
      this[PAIRS][Math.floor(frame)] = [[_const.KEYFRAME_END], []];
      return this;
    }
  }, {
    key: 'get',
    value: function get(frame) {
      frame = Math.floor(frame);
      var keys = Object.keys(this[PAIRS]).map(function (x) {
        return +x;
      });
      var values = [];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var key = _step.value;

          if (key >= frame) {
            if (key === frame) {
              values = this[PAIRS][key];
              values = values[0].concat(values[1]);
            }
            break;
          }
          values = this[PAIRS][key][1];
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return new Set(values);
    }
  }]);

  return Keyframes;
}();

exports.default = Keyframes;

/***/ },
/* 355 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.spring = exports.souvenir = exports.purple = exports.green = exports.blue = undefined;

var _sprite = __webpack_require__(348);

var _sprite2 = _interopRequireDefault(_sprite);

var _blue_player = __webpack_require__(410);

var _blue_player2 = _interopRequireDefault(_blue_player);

var _green_player = __webpack_require__(412);

var _green_player2 = _interopRequireDefault(_green_player);

var _purple_player = __webpack_require__(413);

var _purple_player2 = _interopRequireDefault(_purple_player);

var _souvenir = __webpack_require__(414);

var _souvenir2 = _interopRequireDefault(_souvenir);

var _spring = __webpack_require__(415);

var _spring2 = _interopRequireDefault(_spring);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var blue = exports.blue = new _sprite2.default(_blue_player2.default);
var green = exports.green = new _sprite2.default(_green_player2.default);
var purple = exports.purple = new _sprite2.default(_purple_player2.default);
var souvenir = exports.souvenir = new _sprite2.default(_souvenir2.default);
var spring = exports.spring = new _sprite2.default(_spring2.default);

exports.default = Promise.all([].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 356 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _set = function set(object, property, value, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent !== null) { set(parent, property, value, receiver); } } else if ("value" in desc && desc.writable) { desc.value = value; } else { var setter = desc.set; if (setter !== undefined) { setter.call(receiver, value); } } return value; };

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _background = __webpack_require__(352);

var _background2 = _interopRequireDefault(_background);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Foreground = function (_Background) {
  _inherits(Foreground, _Background);

  function Foreground(imageUrl) {
    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 1000000];

    _classCallCheck(this, Foreground);

    while (position.length < 3) {
      position.push(position.length === 2 ? 1000000 : 0);
    }
    return _possibleConstructorReturn(this, (Foreground.__proto__ || Object.getPrototypeOf(Foreground)).call(this, imageUrl, position));
  }

  _createClass(Foreground, [{
    key: 'position',
    get: function get() {
      return _get(Foreground.prototype.__proto__ || Object.getPrototypeOf(Foreground.prototype), 'position', this);
    },
    set: function set(position) {
      if (Array.isArray(position)) {
        while (position.length < 3) {
          position.push(position.length === 2 ? 1000000 : 0);
        }
        _set(Foreground.prototype.__proto__ || Object.getPrototypeOf(Foreground.prototype), 'position', position, this);
      } else {
        throw new TypeError('Position must be an array');
      }
    }
  }]);

  return Foreground;
}(_background2.default);

exports.default = Foreground;

/***/ },
/* 357 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.monster = exports.elliot = exports.abby = undefined;

var _sprite = __webpack_require__(348);

var _sprite2 = _interopRequireDefault(_sprite);

var _abby = __webpack_require__(393);

var _abby2 = _interopRequireDefault(_abby);

var _elliot = __webpack_require__(395);

var _elliot2 = _interopRequireDefault(_elliot);

var _monster = __webpack_require__(398);

var _monster2 = _interopRequireDefault(_monster);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var abby = exports.abby = new _sprite2.default(_abby2.default, 4);
var elliot = exports.elliot = new _sprite2.default(_elliot2.default, 4);
var monster = exports.monster = new _sprite2.default(_monster2.default, 4);

exports.default = Promise.all([abby, elliot, monster].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 358 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Special = undefined;

var _const = __webpack_require__(342);

var _keyframes = __webpack_require__(354);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Special = exports.Special = {
  Transform: Symbol(),
  Die: Symbol(),
  Attack: Symbol()
};

exports.default = new _keyframes2.default().frame(0, [_const.Input.Right]).frame(2, [Special.Transform], []).frame(3, [_const.Input.Attack], []).frame(3.6, [_const.Input.Attack], []).frame(4.2, [Special.Attack], [_const.Input.Defend]).frame(5.2, [_const.Input.Attack], []).frame(5.6, [_const.Input.Attack, Special.Die], []).frame(6.1, [_const.Input.Right]).end(10);

/***/ },
/* 359 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Solid = function (_Actor) {
  _inherits(Solid, _Actor);

  function Solid() {
    _classCallCheck(this, Solid);

    return _possibleConstructorReturn(this, (Solid.__proto__ || Object.getPrototypeOf(Solid)).apply(this, arguments));
  }

  return Solid;
}(_actor2.default);

exports.default = Solid;
;

/***/ },
/* 360 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _actor = __webpack_require__(347);

var _actor2 = _interopRequireDefault(_actor);

var _game = __webpack_require__(361);

var _game2 = _interopRequireDefault(_game);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _actor2.default)(_game2.default);

/***/ },
/* 361 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _gameEngine = __webpack_require__(353);

var _gameEngine2 = _interopRequireDefault(_gameEngine);

var _keyframes = __webpack_require__(362);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var canvas = document.querySelector('#abby-and-elliot');
canvas.width = 1800;
canvas.height = 640;
setTimeout(function () {
  return canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px';
}, 0);

exports.default = new _gameEngine2.default(canvas, _keyframes2.default);

/***/ },
/* 362 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Special = undefined;

var _const = __webpack_require__(342);

var _keyframes = __webpack_require__(354);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Special = exports.Special = {
  Monster: Symbol()
};

exports.default = new _keyframes2.default().frame(0, [_const.Input.Right]).frame(4, [_const.Input.Talk]).frame(5, [Special.Monster], [_const.Input.Talk]).frame(6, []).frame(6.5, [_const.Input.Left]).end(10);

/***/ },
/* 363 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _enumerate = __webpack_require__(351);

var _enumerate2 = _interopRequireDefault(_enumerate);

var _actor = __webpack_require__(349);

var _actor2 = _interopRequireDefault(_actor);

var _const = __webpack_require__(342);

var _sprites = __webpack_require__(345);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Subimage = (0, _enumerate2.default)('Idle', 'Walk1', 'Walk2', 'Attack', 'Defend');

var speed = 6;
var imageSpeed = 60 / 8;
var attackTime = 14;

var Dave = function (_Actor) {
  _inherits(Dave, _Actor);

  function Dave() {
    _classCallCheck(this, Dave);

    var _this = _possibleConstructorReturn(this, (Dave.__proto__ || Object.getPrototypeOf(Dave)).call(this, _sprites.dave));

    _this.attacking = 0;
    _this.defending = false;

    _this.hsp = 0;
    _this.vsp = 0;

    _this.animationTimer = imageSpeed;
    _this.walkFrame = 0;

    _this.position = [0, 470];
    return _this;
  }

  _createClass(Dave, [{
    key: 'react',
    value: function react(input) {
      switch (input) {
        case _const.Input.Right:
          this.hsp = speed;
          break;
        case _const.Input.Attack:
          if (!this.attacking) {
            this.attacking = attackTime;
          }
          break;
        case _const.Input.Defend:
          this.defending = true;
          this.attacking = 0;
          break;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.attacking) {
        if (this.attacking > 2) {
          this.subimage = Subimage.Attack;
        } else {
          this.subimage = Subimage.Idle;
        }
        --this.attacking;
      } else if (this.defending) {
        this.subimage = Subimage.Defend;
      } else if (this.hsp || this.vsp) {
        this.position[0] += this.hsp;
        this.position[1] += this.vsp;
        this.subimage = 1 + this.walkFrame;
        if (!Math.floor(--this.animationTimer)) {
          this.walkFrame = 1 - this.walkFrame;
          this.animationTimer += imageSpeed;
        }
        this.scale[0] = Math.sign(this.hsp) || this.scale[0];
      } else {
        this.subimage = Subimage.Idle;
      }
      this.hsp = this.vsp = 0;
      this.defending = false;
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      if (this.attacking > 2) {
        if (this.scale[0] === 1) {
          var forkPos = [this.position[0] + 112, this.position[1] + 9];
          _sprites.fork.drawRotated.apply(_sprites.fork, [context, 0].concat(forkPos, [90]));
        } else {
          var _forkPos = [this.position[0] - 112, this.position[1] + 9];
          _sprites.fork.drawRotated.apply(_sprites.fork, [context, 0].concat(_forkPos, [270]));
        }
      }
      _get(Dave.prototype.__proto__ || Object.getPrototypeOf(Dave.prototype), 'draw', this).call(this, context);
    }
  }]);

  return Dave;
}(_actor2.default);

exports.default = Dave;

/***/ },
/* 364 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _gameEngine = __webpack_require__(353);

var _gameEngine2 = _interopRequireDefault(_gameEngine);

var _keyframes = __webpack_require__(358);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var canvas = document.querySelector('#forks');
canvas.width = 1800;
canvas.height = 800;
setTimeout(function () {
  return canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px';
}, 0);

exports.default = new _gameEngine2.default(canvas, _keyframes2.default);

/***/ },
/* 365 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _actor = __webpack_require__(347);

var _actor2 = _interopRequireDefault(_actor);

var _game = __webpack_require__(366);

var _game2 = _interopRequireDefault(_game);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _actor2.default)(_game2.default);

/***/ },
/* 366 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _gameEngine = __webpack_require__(353);

var _gameEngine2 = _interopRequireDefault(_gameEngine);

var _keyframes = __webpack_require__(382);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var canvas = document.querySelector('#tokaido');
canvas.width = 1800;
canvas.height = 570;
setTimeout(function () {
  return canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px';
}, 0);

exports.default = new _gameEngine2.default(canvas, _keyframes2.default);

/***/ },
/* 367 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _gameEngine = __webpack_require__(353);

var _gameEngine2 = _interopRequireDefault(_gameEngine);

var _keyframes = __webpack_require__(368);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var canvas = document.querySelector('#white');
canvas.width = 1800;
canvas.height = 480;
setTimeout(function () {
  return canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px';
}, 0);

exports.default = new _gameEngine2.default(canvas, _keyframes2.default);

/***/ },
/* 368 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Special = undefined;

var _const = __webpack_require__(342);

var _keyframes = __webpack_require__(354);

var _keyframes2 = _interopRequireDefault(_keyframes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Special = exports.Special = {
  Elevator: Symbol()
};

exports.default = new _keyframes2.default().frame(1, [_const.Input.Right]).frame(1.8, []).frame(2.5, [_const.Input.Up], [_const.Input.Right]).frame(6.3, []).frame(6.5, [Special.Elevator]).frame(8, [_const.Input.Right, Special.Elevator]).frame(8.5, [_const.Input.Right]).frame(11.05, []).end(11.5);

/***/ },
/* 369 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _pad = __webpack_require__(392);

var _pad2 = _interopRequireDefault(_pad);

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var imageSpeed = 4;

var Spark = function (_Actor) {
  _inherits(Spark, _Actor);

  function Spark(position, color) {
    _classCallCheck(this, Spark);

    var _this = _possibleConstructorReturn(this, (Spark.__proto__ || Object.getPrototypeOf(Spark)).call(this, _sprites.spark));

    _this.blend = _this.color = color;
    _this.position = position;
    _this.imageTimer = imageSpeed;
    return _this;
  }

  _createClass(Spark, [{
    key: 'update',
    value: function update() {
      if (! --this.imageTimer) {
        ++this.subimage;
        this.imageTimer = imageSpeed;
      }
    }
  }, {
    key: 'useColor',
    value: function useColor() {
      this.game.global.colors.add(this.color);
      this.game.canvas.style.backgroundColor = '#' + (0, _pad2.default)(this.color.toString(16), '0', 6);
    }
  }]);

  return Spark;
}(_actor2.default);

exports.default = Spark;

/***/ },
/* 370 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

exports.default = Util;

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _Symbolic = _slicedToArray(_symbolic2.default, 12),
    GAME = _Symbolic[0],
    EXECUTE = _Symbolic[1],
    METHOD = _Symbolic[2],
    TARGET = _Symbolic[3],
    FLAGS = _Symbolic[4],
    DISTANCE = _Symbolic[5],
    DIRECTION = _Symbolic[6],
    RANDOM = _Symbolic[7],
    COLLISION = _Symbolic[8],
    NEAREST = _Symbolic[9],
    AT = _Symbolic[10],
    TO_POSITION = _Symbolic[11];

function Util(game) {
  var method = '',
      target = null,
      flags = new Set(),
      at = null;

  var util = function util() {
    return method.apply(undefined, arguments);
  };
  Object.defineProperties(util, {
    to: {
      get: function get() {
        return util;
      }
    },
    and: {
      get: function get() {
        return util;
      }
    },
    distance: {
      get: function get() {
        return method = distance, util;
      }
    },
    direction: {
      get: function get() {
        return method = direction, util;
      }
    },
    random: {
      get: function get() {
        return method = random, util;
      }
    },
    collision: {
      get: function get() {
        return method = collision, util;
      }
    },
    integer: {
      get: function get() {
        return flags.add('integer'), util;
      }
    },
    at: {
      value: function value(where) {
        return at = where, flags.add('at'), util;
      }
    },
    between: {
      value: function value(what) {
        return target = what, util;
      }
    },
    from: {
      value: function value(what) {
        return target = what, util;
      }
    }
  });

  function toPosition(inst) {
    switch (typeof inst === 'undefined' ? 'undefined' : _typeof(inst)) {
      case 'function':
        inst = game.actors.find(function (x) {
          return x instanceof inst;
        }).position;
        break;
      case 'object':
        if (inst.position) {
          inst = inst.position;
        }
        break;
    }
    return inst;
  }

  function distance(inst) {
    target = toPosition(target);
    inst = toPosition(inst);
    return Math.sqrt(Math.pow(target[0] - inst[0], 2) + Math.pow(target[1] - inst[1], 2));
  }

  function direction(inst) {
    target = toPosition(target);
    inst = toPosition(inst);
    return Math.atan2(inst[1] - target[1], inst[0] - target[0]);
  }

  function random(max) {
    var number = Math.random() * (max - target) + target;
    if (flags.has('integer')) {
      return Math.floor(number);
    }
    return number;
  }

  function collision(what) {
    var targets = [[], []];
    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {
      case 'function':
        targets[0] = game.actors.filter(function (a) {
          return a instanceof target;
        });
        break;
      case 'object':
        targets[0].push(target);
        break;
    }
    switch (typeof what === 'undefined' ? 'undefined' : _typeof(what)) {
      case 'function':
        targets[1] = game.actors.filter(function (a) {
          return a instanceof what;
        });
        break;
      case 'object':
        targets[1].push(what);
        break;
    }
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = targets[0][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var a = _step.value;
        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = undefined;

        try {
          for (var _iterator2 = targets[1][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var b = _step2.value;
            var pos_a = a.position,
                ori_a = a.origin,
                dim_a = a.dimensions;
            var pos_b = b.position,
                ori_b = b.origin,
                dim_b = b.dimensions;

            if (flags.has('at') && at) {
              pos_a = at;
            }
            pos_a = [pos_a[0] - ori_a[0], pos_a[1] - ori_a[1]];
            pos_b = [pos_b[0] - ori_b[0], pos_b[1] - ori_b[1]];
            var h = pos_a[0] < pos_b[0] + dim_b[0] && pos_a[0] + dim_a[0] > pos_b[0];
            var v = pos_a[1] < pos_b[1] + dim_b[1] && pos_a[1] + dim_a[1] > pos_b[1];
            if (h && v) {
              return b;
            }
          }
        } catch (err) {
          _didIteratorError2 = true;
          _iteratorError2 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion2 && _iterator2.return) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError2) {
              throw _iteratorError2;
            }
          }
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    return false;
  }

  return util;
}

/***/ },
/* 371 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _actor = __webpack_require__(360);

var _actor2 = _interopRequireDefault(_actor);

var _const = __webpack_require__(342);

var _sprites = __webpack_require__(357);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var speed = 3;
var imageSpeed = 8;
var followDistance = 120;

var Abby = function (_Actor) {
  _inherits(Abby, _Actor);

  function Abby() {
    _classCallCheck(this, Abby);

    var _this = _possibleConstructorReturn(this, (Abby.__proto__ || Object.getPrototypeOf(Abby)).call(this, _sprites.abby));

    _this.hsp = 0;
    _this.vsp = 0;

    _this.animationTimer = imageSpeed;
    _this.walkFrame = 0;
    _this.talking = false;

    _this.position = [200, 320];
    return _this;
  }

  _createClass(Abby, [{
    key: 'react',
    value: function react(input) {
      switch (input) {
        case _const.Input.Left:
          this.hsp = -speed * 2;
          break;
        case _const.Input.Right:
          this.hsp = speed;
          break;
        case _const.Input.Talk:
          this.talking = true;
          break;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.hsp || this.vsp) {
        this.position[0] += this.hsp;
        this.position[1] += this.vsp;
        if (!Math.floor(--this.animationTimer)) {
          this.subimage = (this.subimage + 1) % 4;
          this.animationTimer += imageSpeed;
        }
        this.scale[0] = Math.sign(this.hsp) || this.scale[0];
      } else {
        this.subimage = 0;
        if (this.talking) {
          this.scale[0] = -1;
        } else {
          this.scale[0] = 1;
        }
      }
      this.hsp = this.vsp = 0;
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      _sprites.elliot.draw(context, this.subimage, Math.sign(this.talking ? 1 : this.scale[0]) * (this.position[0] - followDistance) - _sprites.elliot.dimensions[0] / 2, Math.sign(this.scale[1]) * this.position[1] - _sprites.elliot.dimensions[1] / 2, _sprites.elliot.dimensions[0], _sprites.elliot.dimensions[1], this.talking ? 1 : this.scale[0], this.scale[1]);
      this.talking = false;
      _get(Abby.prototype.__proto__ || Object.getPrototypeOf(Abby.prototype), 'draw', this).call(this, context);
    }
  }]);

  return Abby;
}(_actor2.default);

exports.default = Abby;

/***/ },
/* 372 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.flower = exports.grass = exports.tree2 = exports.tree1 = exports.bush = undefined;

var _background = __webpack_require__(352);

var _background2 = _interopRequireDefault(_background);

var _foreground = __webpack_require__(356);

var _foreground2 = _interopRequireDefault(_foreground);

var _bush = __webpack_require__(394);

var _bush2 = _interopRequireDefault(_bush);

var _tree_ = __webpack_require__(399);

var _tree_2 = _interopRequireDefault(_tree_);

var _tree_3 = __webpack_require__(400);

var _tree_4 = _interopRequireDefault(_tree_3);

var _grass = __webpack_require__(397);

var _grass2 = _interopRequireDefault(_grass);

var _flowers = __webpack_require__(396);

var _flowers2 = _interopRequireDefault(_flowers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bush = exports.bush = new _background2.default(_bush2.default);
var tree1 = exports.tree1 = new _background2.default(_tree_2.default);
var tree2 = exports.tree2 = new _background2.default(_tree_4.default);
var grass = exports.grass = new _background2.default(_grass2.default);
var flower = exports.flower = new _background2.default(_flowers2.default);

exports.default = Promise.all([bush, tree1, tree2, grass, flower].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 373 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _enumerate = __webpack_require__(351);

var _enumerate2 = _interopRequireDefault(_enumerate);

var _actor = __webpack_require__(360);

var _actor2 = _interopRequireDefault(_actor);

var _const = __webpack_require__(342);

var _keyframes = __webpack_require__(362);

var _sprites = __webpack_require__(357);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var speed = 3;
var imageSpeed = 8;

var Monster = function (_Actor) {
  _inherits(Monster, _Actor);

  function Monster(position) {
    _classCallCheck(this, Monster);

    var _this = _possibleConstructorReturn(this, (Monster.__proto__ || Object.getPrototypeOf(Monster)).call(this, _sprites.monster));

    _this.hsp = 0;
    _this.vsp = 0;

    _this.animationTimer = imageSpeed;
    _this.walkFrame = 0;

    _this.position = [_this.game.width + _this.sprite.dimensions[0] / 2, 320];
    _this.scale = [-1, 1];
    return _this;
  }

  _createClass(Monster, [{
    key: 'react',
    value: function react(input) {
      if (input === _keyframes.Special.Monster) {
        this.hsp = -speed;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.hsp || this.vsp) {
        this.position[0] += this.hsp;
        this.position[1] += this.vsp;
        if (!Math.floor(--this.animationTimer)) {
          this.subimage = (this.subimage + 1) % 4;
          this.animationTimer += imageSpeed;
        }
      }
    }
  }]);

  return Monster;
}(_actor2.default);

exports.default = Monster;

/***/ },
/* 374 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.rails = exports.train = undefined;

var _background = __webpack_require__(352);

var _background2 = _interopRequireDefault(_background);

var _foreground = __webpack_require__(356);

var _foreground2 = _interopRequireDefault(_foreground);

var _train = __webpack_require__(407);

var _train2 = _interopRequireDefault(_train);

var _rails = __webpack_require__(406);

var _rails2 = _interopRequireDefault(_rails);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var train = exports.train = new _background2.default(_train2.default);
var rails = exports.rails = new _foreground2.default(_rails2.default);

exports.default = Promise.all([train, rails].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 375 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(349);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(345);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var floorHeight = 630;

var Coal = function (_Actor) {
  _inherits(Coal, _Actor);

  function Coal(position) {
    _classCallCheck(this, Coal);

    var _this = _possibleConstructorReturn(this, (Coal.__proto__ || Object.getPrototypeOf(Coal)).call(this, _sprites.coal));

    _this.position = position;
    _this.hsp = Math.floor(Math.random() * 3 + 3);
    _this.vsp = -4;
    _this.deltaY = Math.floor(Math.random() * 10);
    return _this;
  }

  _createClass(Coal, [{
    key: 'update',
    value: function update() {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
      this.vsp += 0.5;
      if (this.position[1] >= floorHeight - this.deltaY) {
        this.vsp = -this.vsp / 2;
        if (this.hsp) {
          this.hsp -= Math.min(this.hsp, 1);
        } else {
          this.vsp = 0;
        }
      }
    }
  }]);

  return Coal;
}(_actor2.default);

exports.default = Coal;

/***/ },
/* 376 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(349);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(345);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Grass = function (_Actor) {
  _inherits(Grass, _Actor);

  function Grass() {
    _classCallCheck(this, Grass);

    var _this = _possibleConstructorReturn(this, (Grass.__proto__ || Object.getPrototypeOf(Grass)).call(this, _sprites.grass));

    _this.position = [_sprites.grass.dimensions[0], 0, -1000001];
    return _this;
  }

  _createClass(Grass, [{
    key: 'update',
    value: function update() {
      this.position[0] -= 5;
      if (this.position[0] <= 0) {
        this.position[0] += _sprites.grass.dimensions[0];
      }
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      _sprites.grass.draw.apply(_sprites.grass, [context, 0, this.position[0], this.position[1]].concat(_toConsumableArray(_sprites.grass.dimensions)));
      _sprites.grass.draw.apply(_sprites.grass, [context, 0, this.position[0] - _sprites.grass.dimensions[0], this.position[1]].concat(_toConsumableArray(_sprites.grass.dimensions)));
      _sprites.grass.draw.apply(_sprites.grass, [context, 0, this.position[0] + _sprites.grass.dimensions[0], this.position[1]].concat(_toConsumableArray(_sprites.grass.dimensions)));
    }
  }]);

  return Grass;
}(_actor2.default);

exports.default = Grass;

/***/ },
/* 377 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _enumerate = __webpack_require__(351);

var _enumerate2 = _interopRequireDefault(_enumerate);

var _actor = __webpack_require__(349);

var _actor2 = _interopRequireDefault(_actor);

var _dave = __webpack_require__(363);

var _dave2 = _interopRequireDefault(_dave);

var _sprites = __webpack_require__(345);

var _keyframes = __webpack_require__(358);

var _const = __webpack_require__(342);

var _coal = __webpack_require__(375);

var _coal2 = _interopRequireDefault(_coal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var speed = 2;
var imageSpeed = 60 / 8;
var knockAmount = 10;

var Subimage = (0, _enumerate2.default)('Walk1', 'Walk2', 'Attack');

var Monster = function (_Actor) {
  _inherits(Monster, _Actor);

  function Monster(position) {
    _classCallCheck(this, Monster);

    var _this = _possibleConstructorReturn(this, (Monster.__proto__ || Object.getPrototypeOf(Monster)).call(this, _sprites.monster));

    _this.position = position;

    _this.animationTimer = imageSpeed;
    _this.walkFrame = 0;
    _this.knock = 0;
    _this.attacking = 0;
    return _this;
  }

  _createClass(Monster, [{
    key: 'react',
    value: function react(input) {
      switch (input) {
        case _keyframes.Special.Attack:
          this.attacking = 60;
          break;
        case _keyframes.Special.Die:
          for (var i = 0; i < 5; ++i) {
            this.game.actors.push(new _coal2.default([this.position[0], this.position[1] + 100]));
          }
          this.destroy();
          break;
        case _const.Input.Attack:
          if (!this.knock) {
            this.knock = 10;
          }
          break;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      var dir = -Math.sign(Math.abs(this.game.util.direction.from(this).to(_dave2.default)) - Math.PI / 2);
      if (this.knock) {
        this.position[0] -= dir * this.knock;
        --this.knock;
      } else if (this.attacking) {
        this.subimage = Subimage.Attack;
        --this.attacking;
      } else {
        if (!Math.floor(--this.animationTimer)) {
          this.walkFrame = 1 - this.walkFrame;
          this.animationTimer += imageSpeed;
        }
        this.subimage = this.walkFrame;
        if (dir) {
          this.scale[0] = -dir;
        }
        this.position[0] += speed * dir;
      }
    }
  }]);

  return Monster;
}(_actor2.default);

exports.default = Monster;

/***/ },
/* 378 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(349);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(345);

var _keyframes = __webpack_require__(358);

var _monster = __webpack_require__(377);

var _monster2 = _interopRequireDefault(_monster);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var transformTime = 30;

var Waitor = function (_Actor) {
  _inherits(Waitor, _Actor);

  function Waitor(game) {
    _classCallCheck(this, Waitor);

    var _this = _possibleConstructorReturn(this, (Waitor.__proto__ || Object.getPrototypeOf(Waitor)).call(this, _sprites.waitor));

    _this.position = [1000, 470];
    _this.transforming = 0;
    return _this;
  }

  _createClass(Waitor, [{
    key: 'react',
    value: function react(input) {
      if (input === _keyframes.Special.Transform) {
        this.transforming = transformTime;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.transforming) {
        --this.transforming;
        if (this.transforming % 4 === 0) {
          if (this.sprite === _sprites.monster) {
            this.sprite = _sprites.waitor;
          } else {
            this.sprite = _sprites.monster;
          }
        }
        if (this.transforming === 0) {
          this.game.actors.push(new _monster2.default(this.position));
          this.destroy();
        }
      }
    }
  }]);

  return Waitor;
}(_actor2.default);

exports.default = Waitor;

/***/ },
/* 379 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ = __webpack_require__(338);

var _2 = _interopRequireDefault(_);

var _actor = __webpack_require__(347);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(345);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Wheel = function (_Actor) {
  _inherits(Wheel, _Actor);

  function Wheel(position) {
    _classCallCheck(this, Wheel);

    var _this = _possibleConstructorReturn(this, (Wheel.__proto__ || Object.getPrototypeOf(Wheel)).call(this, _sprites.wheel));

    _this.position = [].concat(_toConsumableArray(position), [500]);
    _this.angle = 0;
    return _this;
  }

  _createClass(Wheel, [{
    key: 'update',
    value: function update() {
      this.angle += 360 / 120;
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      _sprites.wheel.drawRotated.apply(_sprites.wheel, [context, 0].concat(_toConsumableArray(this.position.slice(0, 2)), [this.angle]));
    }
  }]);

  return Wheel;
}((0, _actor2.default)(_2.default));

exports.default = Wheel;

/***/ },
/* 380 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.board = undefined;

var _background = __webpack_require__(352);

var _background2 = _interopRequireDefault(_background);

var _foreground = __webpack_require__(356);

var _foreground2 = _interopRequireDefault(_foreground);

var _board = __webpack_require__(411);

var _board2 = _interopRequireDefault(_board);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var board = exports.board = new _background2.default(_board2.default);

exports.default = Promise.all([board].map(function (_ref) {
  var loaded = _ref.loaded;
  return loaded;
}));

/***/ },
/* 381 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(365);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(355);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var enterTime = 45;
var waitTime = 105;
var exitTime = 150;

var Card = function (_Actor) {
  _inherits(Card, _Actor);

  function Card() {
    _classCallCheck(this, Card);

    var _this = _possibleConstructorReturn(this, (Card.__proto__ || Object.getPrototypeOf(Card)).call(this, _sprites.souvenir));

    _this.position = [_this.game.width, -_this.sprite.dimensions[1], 10000];
    _this.travelTimer = null;
    return _this;
  }

  _createClass(Card, [{
    key: 'react',
    value: function react(input) {
      if (input === _sprites.spring || input === _sprites.souvenir) {
        this.sprite = input;
        this.position = [this.game.width, -this.sprite.dimensions[1], 10000];
        this.travelTimer = 0;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.travelTimer !== null) {
        var previous = void 0,
            destination = void 0,
            amt = void 0;
        ++this.travelTimer;
        if (this.travelTimer < enterTime) {
          previous = [this.game.width, -this.sprite.dimensions[1], 10000];
          destination = [this.game.width / 2, this.game.height / 2];
          amt = Math.pow(Math.sin(this.travelTimer * Math.PI / 2 / enterTime), 2);
        } else if (this.travelTimer > waitTime && this.travelTimer < exitTime) {
          previous = [this.game.width / 2, this.game.height / 2];
          destination = [this.game.width / 2, this.game.height + this.sprite.dimensions[1]];
          amt = Math.pow(Math.sin((this.travelTimer - waitTime) * Math.PI / 2 / (exitTime - waitTime)), 2);
        } else {
          if (this.travelTimer > exitTime) {
            this.travelTimer = null;
          }
          return;
        }
        var dx = destination[0] - previous[0],
            dy = destination[1] - previous[1];

        this.x = previous[0] + dx * amt;
        this.y = previous[1] + dy * amt;
      }
    }
  }]);

  return Card;
}(_actor2.default);

exports.default = Card;

/***/ },
/* 382 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _const = __webpack_require__(342);

var _keyframes = __webpack_require__(354);

var _keyframes2 = _interopRequireDefault(_keyframes);

var _sprites = __webpack_require__(355);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = new _keyframes2.default().frame(1, [_sprites.purple], []).frame(2, [_sprites.souvenir], []).frame(7, [_sprites.blue], []).frame(8, [_sprites.spring], []).end(11);

/***/ },
/* 383 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(365);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(355);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var travelTime = 90;

var Player = function (_Actor) {
  _inherits(Player, _Actor);

  function Player(sprite, position) {
    _classCallCheck(this, Player);

    var _this = _possibleConstructorReturn(this, (Player.__proto__ || Object.getPrototypeOf(Player)).call(this, sprite));

    _this.position = position;
    _this.previous = _this.position;
    _this.destination = null;
    _this.travelTimer = 0;
    return _this;
  }

  _createClass(Player, [{
    key: 'react',
    value: function react(input) {
      if (input === this.sprite) {
        switch (this.sprite) {
          case _sprites.purple:
            this.destination = [166, 205];
            break;
          case _sprites.blue:
            this.destination = [434, 210];
            break;
        }
      }
    }
  }, {
    key: 'update',
    value: function update() {
      this.z = this.y;
      if (this.destination !== null) {
        var amt = Math.pow(Math.sin(++this.travelTimer * Math.PI / 2 / travelTime), 2);
        var dx = this.destination[0] - this.previous[0],
            dy = this.destination[1] - this.previous[1];

        this.x = this.previous[0] + dx * amt;
        this.y = this.previous[1] + dy * amt;
        if (this.travelTimer >= travelTime) {
          this.travelTimer = 0;
          this.previous = this.position;
          this.destination = null;
        }
      }
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      context.drawImage.apply(context, [this.sprite.image].concat(_toConsumableArray(this.position.slice(0, 2)), [50, 80]));
    }
  }]);

  return Player;
}(_actor2.default);

exports.default = Player;

/***/ },
/* 384 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _player = __webpack_require__(350);

var _player2 = _interopRequireDefault(_player);

var _sprites = __webpack_require__(343);

var _const = __webpack_require__(346);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Symbolic = _slicedToArray(_symbolic2.default, 1),
    PLAYER = _Symbolic[0];

var imageSpeed = 6;

var Bird = function (_Actor) {
  _inherits(Bird, _Actor);

  function Bird(position) {
    _classCallCheck(this, Bird);

    var _this = _possibleConstructorReturn(this, (Bird.__proto__ || Object.getPrototypeOf(Bird)).call(this, _sprites.bird));

    _this.position = position;
    _this.origin = [_this.sprite.dimensions[0] / 2, _this.sprite.dimensions[1]];
    _this.color = [_const.Color.Red, _const.Color.Green, _const.Color.White][_this.game.util.random.integer.from(0).to(3)];
    _this.hsp = 0;
    _this.vsp = 0;
    return _this;
  }

  _createClass(Bird, [{
    key: 'update',
    value: function update() {
      if (this.sprite === _sprites.bird) {
        if (this.game.util.random.integer.from(0).to(90) === 0) {
          this.imageTimer = imageSpeed;
        }
        if (this.game.util.distance.from(this).to(this.player) < 32) {
          this.vsp = -2;
          this.hsp = 1;
          this.sprite = _sprites.bird_flying;
          this.imageTimer = imageSpeed;
        }
      } else {
        this.position[0] += this.hsp;
        this.position[1] += this.vsp;
        if (this.position[1] < 0) {
          this.destroy();
        }
      }
      if (this.imageTimer) {
        --this.imageTimer;
        if (!this.imageTimer) {
          ++this.subimage;
          if (this.sprite === _sprites.bird && this.subimage === 0) {
            this.subimage = 0;
          } else {
            this.imageTimer = imageSpeed;
          }
        }
      }
      if (this.game.global.colors.has(this.color)) {
        this.blend = this.color;
      }
    }
  }, {
    key: 'player',
    get: function get() {
      return this[PLAYER] || (this[PLAYER] = this.game.actors.find(function (a) {
        return a instanceof _player2.default;
      }));
    }
  }]);

  return Bird;
}(_actor2.default);

exports.default = Bird;

/***/ },
/* 385 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

var _const = __webpack_require__(346);

var _player = __webpack_require__(350);

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Symbolic = _slicedToArray(_symbolic2.default, 1),
    PLAYER = _Symbolic[0];

var imageSpeed = 3;
var moveInterval = 4;

var Butterfly = function (_Actor) {
  _inherits(Butterfly, _Actor);

  function Butterfly(position) {
    _classCallCheck(this, Butterfly);

    var _this = _possibleConstructorReturn(this, (Butterfly.__proto__ || Object.getPrototypeOf(Butterfly)).call(this, _sprites.butterfly));

    _this.position = position;
    _this.startPosition = [].concat(_toConsumableArray(_this.position));
    _this.color = [_const.Color.Red, _const.Color.Green, _const.Color.White][_this.game.util.random.integer.between(0).and(3)];
    _this.imageTimer = imageSpeed;
    _this.moveTimer = moveInterval;
    return _this;
  }

  _createClass(Butterfly, [{
    key: 'update',
    value: function update() {
      if (! --this.imageTimer) {
        this.imageTimer = imageSpeed;
        ++this.subimage;
      }
      if (! --this.moveTimer) {
        this.moveTimer = moveInterval;
        var xmin = -2,
            xmax = 2,
            ymin = -2,
            ymax = 2;

        if (this.game.util.distance.from(this).to(this.player) < 48) {
          var dx = this.x - this.player.position[0],
              dy = this.y - this.player.position[1];

          if (Math.abs(dx) < Math.abs(dy)) {
            if (dx > 0) {
              xmin += 3;
              xmax += 3;
            } else {
              xmin -= 3;
              xmax -= 3;
            }
          } else {
            if (dy > 0) {
              ymin += 3;
              ymax += 3;
            } else {
              ymin -= 3;
              ymax -= 3;
            }
          }
        } else if (this.game.util.distance.from(this).to(this.startPosition) >= 32) {
          var _dx = this.x - this.startPosition[0],
              _dy = this.y - this.startPosition[1];

          if (Math.abs(_dx) > 24) {
            if (_dx > 0) {
              xmax -= 3;
            } else {
              xmin += 3;
            }
          }
          if (Math.abs(_dy) > 24) {
            if (_dy > 0) {
              ymax -= 3;
            } else {
              ymin += 3;
            }
          }
        }
        this.x += this.game.util.random.integer.between(xmin).and(xmax);
        this.y += this.game.util.random.integer.between(ymin).and(ymax);
      }
      if (this.game.global.colors.has(this.color)) {
        this.blend = this.color;
      }
    }
  }, {
    key: 'player',
    get: function get() {
      return this[PLAYER] || (this[PLAYER] = this.game.actors.find(function (a) {
        return a instanceof _player2.default;
      }));
    }
  }]);

  return Butterfly;
}(_actor2.default);

exports.default = Butterfly;

/***/ },
/* 386 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

var _player = __webpack_require__(350);

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Symbolic = _slicedToArray(_symbolic2.default, 1),
    PLAYER = _Symbolic[0];

var Door = function (_Actor) {
  _inherits(Door, _Actor);

  function Door(position, color) {
    _classCallCheck(this, Door);

    var _this = _possibleConstructorReturn(this, (Door.__proto__ || Object.getPrototypeOf(Door)).call(this, _sprites.door));

    _this.position = position;
    _this.color = color;
    _this.origin[1] = _this.sprite.dimensions[1];
    return _this;
  }

  _createClass(Door, [{
    key: 'update',
    value: function update() {
      this.alpha = this.game.util.collision.between(this).and(this.player) ? this.alpha + 0.1 : this.alpha - 0.1;
      this.alpha = Math.max(0.5, Math.min(this.alpha, 1));
      if (this.game.global.colors.has(this.color)) {
        this.blend = this.color;
      }
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      if (this.blend === this.color) {
        _get(Door.prototype.__proto__ || Object.getPrototypeOf(Door.prototype), 'draw', this).call(this, context);
      }
    }
  }, {
    key: 'player',
    get: function get() {
      return this[PLAYER] || (this[PLAYER] = this.game.actors.find(function (a) {
        return a instanceof _player2.default;
      }));
    }
  }]);

  return Door;
}(_actor2.default);

exports.default = Door;

/***/ },
/* 387 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

var _const = __webpack_require__(346);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Flower = function (_Actor) {
  _inherits(Flower, _Actor);

  function Flower(position) {
    _classCallCheck(this, Flower);

    var _this = _possibleConstructorReturn(this, (Flower.__proto__ || Object.getPrototypeOf(Flower)).call(this, _sprites.flower_w));

    _this.position = position;
    _this.position[2] = -1;
    _this.origin[1] = _this.sprite.dimensions[1];
    return _this;
  }

  _createClass(Flower, [{
    key: 'update',
    value: function update() {
      if (this.game.global.colors.has(_const.Color.Green)) {
        this.sprite = _sprites.flower_g;
      } else if (this.game.global.colors.has(_const.Color.Red)) {
        this.sprite = _sprites.flower_r;
      }
    }
  }]);

  return Flower;
}(_actor2.default);

exports.default = Flower;

/***/ },
/* 388 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var imageSpeed = 4;

var Puff = function (_Actor) {
  _inherits(Puff, _Actor);

  function Puff(position, direction) {
    _classCallCheck(this, Puff);

    var _this = _possibleConstructorReturn(this, (Puff.__proto__ || Object.getPrototypeOf(Puff)).call(this, _sprites.puff));

    if (direction === 1) {
      _this.subimage = 4;
    }
    _this.position = position;
    _this.imageTimer = imageSpeed;
    _this.origin[1] = _this.sprite.dimensions[1];
    return _this;
  }

  _createClass(Puff, [{
    key: 'update',
    value: function update() {
      if (! --this.imageTimer) {
        this.imageTimer = imageSpeed;
        ++this.subimage;
        if (this.subimage === 4 || this.subimage === 0) {
          this.destroy();
        }
      }
    }
  }]);

  return Puff;
}(_actor2.default);

exports.default = Puff;

/***/ },
/* 389 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _solid = __webpack_require__(359);

var _solid2 = _interopRequireDefault(_solid);

var _sprites = __webpack_require__(343);

var _const = __webpack_require__(346);

var _keyframes = __webpack_require__(368);

var _player = __webpack_require__(350);

var _player2 = _interopRequireDefault(_player);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Symbolic = _slicedToArray(_symbolic2.default, 1),
    PLAYER = _Symbolic[0];

var maxSparks = 16;

var Switch = function (_Solid) {
  _inherits(Switch, _Solid);

  function Switch(position, vdist) {
    _classCallCheck(this, Switch);

    var _this = _possibleConstructorReturn(this, (Switch.__proto__ || Object.getPrototypeOf(Switch)).call(this, _sprites.switch_platform));

    _this.position = position;
    _this.origin[0] = 0;
    _this.ystart = _this.y;
    _this.vdist = vdist;
    _this.sparks = [];
    return _this;
  }

  _createClass(Switch, [{
    key: 'react',
    value: function react(input) {
      if (input === _keyframes.Special.Elevator && this.game.util.collision.between(this).and(this.player)) {
        this.active = true;
      }
    }
  }, {
    key: 'update',
    value: function update() {
      if (this.active) {
        if (this.y > this.ystart - this.vdist) {
          this.y -= 2;
          this.player.y -= 2;
          this.sparks.unshift([this.game.util.random.integer.between(this.x).and(this.x + this.dimensions[0]), this.y + 16]);
        } else {
          this.sparks = [];
        }
        this.subimage = 1;
        this.active = false;
      } else {
        this.subimage = 0;
        if (this.y < this.ystart) {
          this.y += 2;
          this.sparks.unshift([this.game.util.random.integer.between(this.x).and(this.x + this.dimensions[0]), this.y]);
        } else {
          this.sparks = [];
        }
      }
      if (this.sparks.length > maxSparks) {
        this.sparks = this.sparks.slice(0, maxSparks);
      }
    }
  }, {
    key: 'draw',
    value: function draw(context) {
      _get(Switch.prototype.__proto__ || Object.getPrototypeOf(Switch.prototype), 'draw', this).call(this, context);
      if (this.game.global.colors.has(_const.Color.Green) && this.subimage === 1) {
        context.fillStyle = '#008000';
      } else if (this.game.global.colors.has(_const.Color.Red)) {
        context.fillStyle = '#FF0000';
      } else {
        context.fillStyle = '#FFFFFF';
      }
      context.beginPath();
      context.arc(this.x + 32, this.y, 2, 0, Math.PI * 2);
      context.fill();
      context.fillStyle = '#FFFFFF';
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.sparks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var spark = _step.value;

          context.fillRect.apply(context, _toConsumableArray(spark).concat([1, 1]));
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'player',
    get: function get() {
      return this[PLAYER] || (this[PLAYER] = this.game.actors.find(function (a) {
        return a instanceof _player2.default;
      }));
    }
  }]);

  return Switch;
}(_solid2.default);

exports.default = Switch;

/***/ },
/* 390 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _actor = __webpack_require__(344);

var _actor2 = _interopRequireDefault(_actor);

var _sprites = __webpack_require__(343);

var _const = __webpack_require__(346);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Tree = function (_Actor) {
  _inherits(Tree, _Actor);

  function Tree(position) {
    _classCallCheck(this, Tree);

    var _this = _possibleConstructorReturn(this, (Tree.__proto__ || Object.getPrototypeOf(Tree)).call(this, _sprites.tree_w));

    _this.position = position;
    _this.position[2] = -1;
    _this.origin[1] = _this.sprite.dimensions[1];
    return _this;
  }

  _createClass(Tree, [{
    key: 'update',
    value: function update() {
      if (this.game.global.colors.has(_const.Color.Green)) {
        this.sprite = _sprites.tree_g;
      } else if (this.game.global.colors.has(_const.Color.Red)) {
        this.sprite = _sprites.tree_r;
      }
    }
  }]);

  return Tree;
}(_actor2.default);

exports.default = Tree;

/***/ },
/* 391 */
/***/ function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _symbolic = __webpack_require__(132);

var _symbolic2 = _interopRequireDefault(_symbolic);

var _solid = __webpack_require__(359);

var _solid2 = _interopRequireDefault(_solid);

var _const = __webpack_require__(346);

var _sprites = __webpack_require__(343);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Symbolic = _slicedToArray(_symbolic2.default, 1),
    DIMENSIONS = _Symbolic[0];

var Wall = function (_Solid) {
  _inherits(Wall, _Solid);

  function Wall(position, dimensions) {
    var hasGrass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

    _classCallCheck(this, Wall);

    var _this = _possibleConstructorReturn(this, (Wall.__proto__ || Object.getPrototypeOf(Wall)).call(this));

    _this.position = [].concat(_toConsumableArray(position), [-10]);
    _this[DIMENSIONS] = dimensions;
    _this.grass = [];
    if (hasGrass) {
      while (_this.grass.length < _this.dimensions[0] / _sprites.grass.dimensions[0]) {
        _this.grass.push(_this.game.util.random.integer.between(0).and(5));
      }
    }
    return _this;
  }

  _createClass(Wall, [{
    key: 'draw',
    value: function draw(context) {
      context.fillStyle = '#ffffff';
      context.fillRect.apply(context, _toConsumableArray(this.position.slice(0, 2)).concat(_toConsumableArray(this.dimensions)));
      if (this.game.global.colors.has(_const.Color.Green)) {
        for (var i = 0; i < this.grass.length; ++i) {
          _sprites.grass.draw(context, this.grass[i], this.position[0] + i * _sprites.grass.dimensions[0], this.position[1] - _sprites.grass.dimensions[1]);
        }
      }
    }
  }, {
    key: 'dimensions',
    get: function get() {
      return this[DIMENSIONS];
    }
  }]);

  return Wall;
}(_solid2.default);

exports.default = Wall;

/***/ },
/* 392 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* (string, string, number[, boolean]) => string

  Pads str with char until it has reached the required len. Optionally can start
  from the end by specifying end to be true.
*/


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str, char, len) {
  var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

  while (str.length < len) {
    if (end) {
      str += char[0];
    } else {
      str = char[0] + str;
    }
  }
  return str;
};

/***/ },
/* 393 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d78c1408f14a36546c612668ce749ea2.png";

/***/ },
/* 394 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d2d0b8753e3b24d4f2f701c5acb90788.png";

/***/ },
/* 395 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d163d73583b536abdccba25a2b6e8c20.png";

/***/ },
/* 396 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/bf1259b1005bdfefce668fcc576fa9ed.png";

/***/ },
/* 397 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/5e7244086189b9a4ba10deb0f92ed998.png";

/***/ },
/* 398 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/56312575cd0eff25d067a5451097409a.png";

/***/ },
/* 399 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ef7cda17cbbec935469a067a1e06de3d.png";

/***/ },
/* 400 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/7855d7958c6d3b8ad122d183d0edfb61.png";

/***/ },
/* 401 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/30121a7952e2e705d6149a149e2ed0c1.png";

/***/ },
/* 402 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/867cf348fbf301134102da4ee37e6900.png";

/***/ },
/* 403 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d40afc8f031f80c7859dff750d8e722e.png";

/***/ },
/* 404 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/4450cf5bc61576eea457408ff65a27d1.png";

/***/ },
/* 405 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/c98a78c4e9c08eda64667c07abe8a617.png";

/***/ },
/* 406 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/3277e74c83e4dcfd0c3547c19c4cda1d.png";

/***/ },
/* 407 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/99c3051e3b216be281e5fe1dbb4150f5.png";

/***/ },
/* 408 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/a7659b65c40e4358bab59d95ccd3de43.png";

/***/ },
/* 409 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/657a5d7e7ea56131b1616d834a5624d1.png";

/***/ },
/* 410 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/b848db66bf367ec4bdd32ab059bd2b02.svg";

/***/ },
/* 411 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/bdfe62992401c5dd6fc266c78101aac2.jpg";

/***/ },
/* 412 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/eb268d97713623b576cd9cdf7eb27bf9.svg";

/***/ },
/* 413 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/605507c961cf5fc51fe6bda42ed0483e.svg";

/***/ },
/* 414 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/95455e21787e7bae36dbf57e160bbe33.jpg";

/***/ },
/* 415 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/6cf3fd61573fac3db99dec45650c12c5.jpg";

/***/ },
/* 416 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/2b646b356de38cdcb75ba1695e940858.png";

/***/ },
/* 417 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/60a1df11cb235d187145765e929735e0.png";

/***/ },
/* 418 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/b64b8c012b47364bea2dafbe6c2d6c7b.png";

/***/ },
/* 419 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/53e55ac0753640617609a05925158908.png";

/***/ },
/* 420 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/dc28ae004fea1dc653faed5069e1b3b2.png";

/***/ },
/* 421 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/97d1fab5a1575ac3485f32f55f86c6bf.png";

/***/ },
/* 422 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/12ef00437441aa5d350363e0e91f39a8.png";

/***/ },
/* 423 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ad7d53c4c2479f362195cc10bf68371a.png";

/***/ },
/* 424 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/954c63d9316ee7add4a07f777bc5f909.png";

/***/ },
/* 425 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/0192467cfa9e012b0cef676c782c0213.png";

/***/ },
/* 426 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/c2e51274cad2b532aff9bffd3204f049.png";

/***/ },
/* 427 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ab76307f4409a8e93ce02b36e05fa13c.png";

/***/ },
/* 428 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/de122a472d877eaefcc2cd06b1f5dc65.png";

/***/ },
/* 429 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/79686be681b2776136009e42303a4fca.png";

/***/ },
/* 430 */
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/267ff55bc48cf0d8fd55bad3e295ba94.png";

/***/ }
]));