webpackJsonp([0],Array(26).concat([
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_generate__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__backgrounds__ = __webpack_require__(100);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__game__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__grass__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dave__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__waitor__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wheel__ = __webpack_require__(105);












__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_generate__["a" /* default */])(function*() {
  yield __WEBPACK_IMPORTED_MODULE_1__sprites__["a" /* default */];
  yield __WEBPACK_IMPORTED_MODULE_2__backgrounds__["a" /* default */];
  __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
    .on('start', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
        .add.actor(
            new __WEBPACK_IMPORTED_MODULE_4__grass__["a" /* default */](),
            new __WEBPACK_IMPORTED_MODULE_5__dave__["a" /* default */](),
            new __WEBPACK_IMPORTED_MODULE_6__waitor__["a" /* default */](),
            new __WEBPACK_IMPORTED_MODULE_7__wheel__["a" /* default */]([224, 704]), new __WEBPACK_IMPORTED_MODULE_7__wheel__["a" /* default */]([1344, 704]), new __WEBPACK_IMPORTED_MODULE_7__wheel__["a" /* default */]([1814, 709]))
        .add.background(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* train */], __WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* train */].copy([1590, 5]))
        .add.foreground(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["c" /* rails */], __WEBPACK_IMPORTED_MODULE_2__backgrounds__["c" /* rails */].copy([1590, 5]));
    })
    .on('end', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].reset().play();
    })
    .on('resize', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].canvas.style.width = window.innerWidth + 'px'
    })
    .on('scrollout', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].pause();
    })
    .on('scrollin', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].unpause();
    })
    .play();
});


/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_generate__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__backgrounds__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__game__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__abby__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__monster__ = __webpack_require__(99);











__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_generate__["a" /* default */])(function*() {
  yield __WEBPACK_IMPORTED_MODULE_1__sprites__["a" /* default */];
  yield __WEBPACK_IMPORTED_MODULE_2__backgrounds__["a" /* default */];

  const [grasses, trees, flowers] = [[], [], []];
  const front = [];

  for(let i = 0; i < __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].width; i += __WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].dimensions[0]) {
    for(let j = -100; j < __WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].dimensions[0]; j += __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(60).to(80)) {
      const tree = [__WEBPACK_IMPORTED_MODULE_2__backgrounds__["c" /* tree1 */], __WEBPACK_IMPORTED_MODULE_2__backgrounds__["d" /* tree2 */]][__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(0).to(2)];
      const y = __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(-220).to(20);
      trees.push(tree.copy([i + j, y, y - 10000]));
      if(__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(0).to(2) === 0) {
        front.push(tree.copy([i + j, y + 620, y + 10000]))
      }
    }
    for(let j = 0; j < __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height; j += __WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].dimensions[1]) {
      grasses.push(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].copy([i, j]));
      flowers.push(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["e" /* flower */].copy([
        i + __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(0).to(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].dimensions[0]),
        j + __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(0).to(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* grass */].dimensions[1])
      ]));
    }
  }
  const bushx = __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(200).to(__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].width - 200);
  __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
    .on('start', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
        .add.actor(new __WEBPACK_IMPORTED_MODULE_4__abby__["a" /* default */](), new __WEBPACK_IMPORTED_MODULE_5__monster__["a" /* default */]())
        .add.background(...grasses, ...trees, ...flowers, __WEBPACK_IMPORTED_MODULE_2__backgrounds__["f" /* bush */].copy([bushx, 220, -1000]))
        .add.foreground(...front);
    })
    .on('end', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].reset().play();
    })
    .on('resize', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].canvas.style.width = window.innerWidth + 'px'
    })
    .on('scrollout', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].pause();
    })
    .on('scrollin', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].unpause();
    })
    .play();
});


/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_generate__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__backgrounds__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__game__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__card__ = __webpack_require__(107);










__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_generate__["a" /* default */])(function*() {
  yield __WEBPACK_IMPORTED_MODULE_1__sprites__["a" /* default */];
  yield __WEBPACK_IMPORTED_MODULE_2__backgrounds__["a" /* default */];
  __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
    .on('start', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
        .add.actor(
          new __WEBPACK_IMPORTED_MODULE_4__player__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__sprites__["b" /* green */], [79, 290]),
          new __WEBPACK_IMPORTED_MODULE_4__player__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__sprites__["c" /* blue */], [79, 360]),
          new __WEBPACK_IMPORTED_MODULE_4__player__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__sprites__["d" /* purple */], [79, 430]),
          new __WEBPACK_IMPORTED_MODULE_5__card__["a" /* default */]()
        )
        .add.background(__WEBPACK_IMPORTED_MODULE_2__backgrounds__["b" /* board */]);
    })
    .on('end', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].reset().play();
    })
    .on('resize', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].canvas.style.width = window.innerWidth + 'px'
    })
    .on('scrollout', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].pause();
    })
    .on('scrollin', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].unpause();
    })
    .play();
});


/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_generate__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__const__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__game__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__wall__ = __webpack_require__(117);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__spark__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__bird__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__butterfly__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__door__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__flower__ = __webpack_require__(113);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__tree__ = __webpack_require__(116);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__switch__ = __webpack_require__(115);

















__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_generate__["a" /* default */])(function*() {
  yield __WEBPACK_IMPORTED_MODULE_1__sprites__["a" /* default */];
  __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
    .on('start', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].canvas.style.backgroundColor = '#ffffff';
      let wallPos = 0;
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */]
        .add.actor(
          new __WEBPACK_IMPORTED_MODULE_4__player__["a" /* default */](),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos, 400], [256, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 400]),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos += 256, 340], [128, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 340]),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos += 128, 400], [448, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 400]),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos += 448, 416], [64, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 416], false),
          new __WEBPACK_IMPORTED_MODULE_12__switch__["a" /* default */]([wallPos, 400], 200),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos += 64, 200], [128, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 200]),
          new __WEBPACK_IMPORTED_MODULE_5__wall__["a" /* default */]([wallPos += 128, 400], [Math.ceil((__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].width - wallPos) / 16) * 16, __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].height - 400]),
          new __WEBPACK_IMPORTED_MODULE_6__spark__["a" /* default */]([300, 320], __WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Red),
          new __WEBPACK_IMPORTED_MODULE_6__spark__["a" /* default */]([680, 380], __WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Green),
          new __WEBPACK_IMPORTED_MODULE_6__spark__["a" /* default */]([1200, 380], __WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].White),
          new __WEBPACK_IMPORTED_MODULE_9__door__["a" /* default */]([1400, 400], __WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Green),
          new __WEBPACK_IMPORTED_MODULE_11__tree__["a" /* default */]([276, 340]), new __WEBPACK_IMPORTED_MODULE_11__tree__["a" /* default */]([660, 400]), new __WEBPACK_IMPORTED_MODULE_11__tree__["a" /* default */]([1500, 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([296, 340]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([988, 200]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(20).to(230), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_10__flower__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_7__bird__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_7__bird__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_7__bird__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(400).to(700), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400]),
          new __WEBPACK_IMPORTED_MODULE_8__butterfly__["a" /* default */]([__WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].util.random.integer.from(1100).to(1600), 400])
        )
        .global.colors = new Set([__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].White]);
    })
    .on('end', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].reset().play();
    })
    .on('resize', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].canvas.style.width = window.innerWidth + 'px'
    })
    .on('scrollout', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].pause();
    })
    .on('scrollin', () => {
      __WEBPACK_IMPORTED_MODULE_3__game__["a" /* default */].unpause();
    })
    .play();
});


/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_enumerate__ = __webpack_require__(39);


const Input = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_enumerate__["a" /* default */])('Left', 'Right', 'Up', 'Down', 'Attack', 'Defend', 'Talk');
/* harmony export (immutable) */ __webpack_exports__["b"] = Input;

const KEYFRAME_END = Symbol('KEYFRAME_END');
/* harmony export (immutable) */ __webpack_exports__["a"] = KEYFRAME_END;



/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_bird_png__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_bird_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__images_bird_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_bird_flying_png__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_bird_flying_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_bird_flying_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_butterfly_png__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_butterfly_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_butterfly_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_door_png__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_door_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__images_door_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_flower_g_png__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_flower_g_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__images_flower_g_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_flower_r_png__ = __webpack_require__(86);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_flower_r_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__images_flower_r_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__images_flower_w_png__ = __webpack_require__(87);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__images_flower_w_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__images_flower_w_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__images_grass_png__ = __webpack_require__(88);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__images_grass_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__images_grass_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__images_player_png__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__images_player_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__images_player_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__images_puff_png__ = __webpack_require__(90);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__images_puff_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__images_puff_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__images_spark_png__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__images_spark_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__images_spark_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__images_switch_png__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__images_switch_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__images_switch_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__images_tree_g_png__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__images_tree_g_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__images_tree_g_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__images_tree_r_png__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__images_tree_r_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__images_tree_r_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__images_tree_w_png__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__images_tree_w_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__images_tree_w_png__);



















const bird = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__images_bird_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["c"] = bird;

const bird_flying = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_bird_flying_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["d"] = bird_flying;

const butterfly = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_butterfly_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["b"] = butterfly;

const door = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_4__images_door_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["k"] = door;

const flower_g = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_5__images_flower_g_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["f"] = flower_g;

const flower_r = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_6__images_flower_r_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["g"] = flower_r;

const flower_w = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_7__images_flower_w_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["e"] = flower_w;

const grass = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_8__images_grass_png___default.a, 5);
/* harmony export (immutable) */ __webpack_exports__["n"] = grass;

const player = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_9__images_player_png___default.a, 5);
/* harmony export (immutable) */ __webpack_exports__["o"] = player;

const puff = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_10__images_puff_png___default.a, 8);
/* harmony export (immutable) */ __webpack_exports__["p"] = puff;

const spark = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_11__images_spark_png___default.a, 17);
/* harmony export (immutable) */ __webpack_exports__["l"] = spark;

const switch_platform = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_12__images_switch_png___default.a, 2);
/* harmony export (immutable) */ __webpack_exports__["m"] = switch_platform;

const tree_g = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_13__images_tree_g_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["i"] = tree_g;

const tree_r = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_14__images_tree_r_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["j"] = tree_r;

const tree_w = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_15__images_tree_w_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["h"] = tree_w;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([
  bird, bird_flying, butterfly, door,
  flower_g, flower_r, flower_w, grass,
  player, puff, spark, switch_platform,
  tree_g, tree_r, tree_w
].map(({loaded}) => loaded)));


/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_actor__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game__ = __webpack_require__(55);


/* harmony default export */ __webpack_exports__["a"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__game_engine_actor__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_1__game__["a" /* default */]));


/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_dave_png__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_dave_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__images_dave_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_waitor_png__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_waitor_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_waitor_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_grass_png__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_grass_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_grass_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_wheel_png__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_wheel_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__images_wheel_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_coal_png__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_coal_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__images_coal_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_monster_png__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_monster_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__images_monster_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__images_fork_png__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__images_fork_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__images_fork_png__);










const dave = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__images_dave_png___default.a, 5);
/* harmony export (immutable) */ __webpack_exports__["f"] = dave;

const waitor = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_waitor_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["c"] = waitor;

const grass = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_grass_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["h"] = grass;

const wheel = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_4__images_wheel_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["b"] = wheel;

const coal = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_5__images_coal_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["e"] = coal;

const monster = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_6__images_monster_png___default.a, 3);
/* harmony export (immutable) */ __webpack_exports__["d"] = monster;

const fork = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_7__images_fork_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["g"] = fork;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([dave, waitor, grass, wheel, coal, monster, fork].map(({loaded}) => loaded)));


/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_enumerate__ = __webpack_require__(39);

const Color = {
  White: 0xFFFFFF,
  Red: 0xFF0000,
  Green: 0x008000
};
/* harmony export (immutable) */ __webpack_exports__["a"] = Color;



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprite__ = __webpack_require__(36);
/* unused harmony export Actor */




const [SPRITE, POSITION, GAME, ORIGIN, BLEND, SUBIMAGE] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

let Actor;

/* harmony default export */ __webpack_exports__["a"] = ((game) => Actor = class {
  constructor(sprite) {
    this[GAME] = game;
    this.sprite = sprite;
    this.position = [0, 0, 0];
    this.subimage = 0;
    this.blend = 0xFFFFFF;
    this.origin = [0, 0];
    this.alpha = 1;
    if(this.sprite) {
      this.origin = [this.sprite.dimensions[0] / 2, this.sprite.dimensions[1] / 2];
    }
    this.scale = [1, 1];
  }

  react(input) {}
  update() {}

  destroy() {
    const i = this.game.actors.indexOf(this);
    this.game.actors.splice(i, 1);
  }

  draw(context) {
    if(!this.sprite) { return; }
    context.globalAlpha = this.alpha;
    this.sprite.blend(this.blend).draw(
      context,
      this.subimage,
      Math.sign(this.scale[0]) * this.x - this.origin[0],
      Math.sign(this.scale[1]) * this.y - this.origin[1],
      this.sprite.dimensions[0],
      this.sprite.dimensions[1],
      ...this.scale
    );
    context.globalAlpha = 1;
  }

  get x() { return this[POSITION][0]; }
  set x(x) { this[POSITION][0] = x; }
  get y() { return this[POSITION][1]; }
  set y(y) { this[POSITION][1] = y; }
  get z() { return this[POSITION][2]; }
  set z(z) { this[POSITION][2] = z; }

  get origin() {
    return this[ORIGIN];
  }

  set origin(origin) {
    if(Array.isArray(origin)) {
      this[ORIGIN] = origin;
    } else {
      throw new TypeError('Origin must be an array');
    }
  }

  get position() {
    return this[POSITION];
  }

  set position(position) {
    if(Array.isArray(position)) {
      this[POSITION] = position;
      while(this[POSITION].length < 3) {
        this[POSITION].push(0);
      }
    } else {
      throw new TypeError('Position must be an array');
    }
  }

  get blend() {
    return this[BLEND];
  }

  set blend(color) {
    if(typeof color === 'number') {
      this[BLEND] = color;
    } else if(color[0] === '#') {
      this[BLEND] = parseInt(color.slice(1), 16)
    } else if(color.slice(0, 3).toLowerCase() === 'rgb') {
      this[BLEND] = color.slice(4, -1).split(',').map((x) => parseInt(x, 10)).reduce((p, x) => p << 2 + x, 0);
    }
    if(this.sprite) {
      this.sprite.addBlend(this.blend);
    }
  }

  get sprite() {
    return this[SPRITE];
  }

  set sprite(sprite) {
    if(sprite instanceof __WEBPACK_IMPORTED_MODULE_1__sprite__["a" /* default */] || sprite === null || sprite === undefined) {
      this[SPRITE] = sprite;
    } else {
      throw new TypeError('Cannot set sprite to something that is not a Sprite');
    }
  }

  get subimage() {
    return this[SUBIMAGE];
  }

  set subimage(index) {
    let limit = 1;
    if(this.sprite) {
      limit = this.sprite.frames.length;
    }
    this[SUBIMAGE] = index % limit;
  }

  get dimensions() {
    if(this.sprite) {
      return this.sprite.dimensions;
    } else {
      return [0, 0];
    }
  }

  get game() {
    return game;
  }
});


/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);


const [IMAGE, DIMENSIONS, LOADED, BLENDS, SPRITE] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

function blend(canvas, color) {
  const context = canvas.getContext('2d');
  const img = context.getImageData(0, 0, canvas.width, canvas.height);
  const [r, g, b] = [
    (color >> 16 & 0xFF) / 0xFF,
    (color >> 8 & 0xFF) / 0xFF,
    (color & 0xFF) / 0xFF
  ];
  for(let i = 0; i < img.data.length; i += 4) {
    img.data[i] *= r;
    img.data[i + 1] *= g;
    img.data[i + 2] *= b;
  }
  context.clearRect(0, 0, canvas.width, canvas.height);
  context.putImageData(img, 0, 0);
}

class Sprite {
  constructor(imageUrl, frames = 1) {
    if(imageUrl) {
      this[IMAGE] = new Image();
      this[IMAGE].src = imageUrl;
      this[DIMENSIONS] = [0, 0];
      this[LOADED] = new Promise((resolve, reject) => {
        this[IMAGE].onload = () => {
          this[DIMENSIONS] = [Math.floor(this[IMAGE].width / frames), this[IMAGE].height];
          resolve();
        };
        this[IMAGE].onerror = reject;
      });
      this[BLENDS] = new Map([[0xFFFFFF, this]]);
    }
  }

  get frames() {
    if(window.Proxy) {
      return new Proxy(this, {
        get(target, frame) {
          if(frame === 'length') {
            return target[IMAGE].width / target[DIMENSIONS][0];
          } else {
            return [target[DIMENSIONS][0] * (frame % (target[IMAGE].width / target[DIMENSIONS][0])), 0, ...target[DIMENSIONS]];
          }
        }
      });
    } else {
      const frames = [];
      for(let i = 0; i < this[IMAGE].width / this[DIMENSIONS][0]; ++i) {
        frames.push([this[DIMENSIONS][0] * (i % (this[IMAGE].width / this[DIMENSIONS][0])), 0, ...this[DIMENSIONS]]);
      }
      return frames;
    }
  }

  get dimensions() {
    return this[DIMENSIONS];
  }

  get image() {
    return this[IMAGE];
  }

  get loaded() {
    return this[LOADED];
  }

  addBlend(color) {
    if(!this[BLENDS].has(color)) {
      const canvas = document.createElement('canvas');
      canvas.width = this[IMAGE].width;
      canvas.height = this[IMAGE].height;
      canvas.style.display = 'none';
      canvas.style.width = `${canvas.width}px`;
      canvas.style.height = `${canvas.height}px`;
      const context = canvas.getContext('2d');
      context.clearRect(0, 0, canvas.width, canvas.height);
      context.drawImage(this[BLENDS].get(0xFFFFFF)[IMAGE], 0, 0);
      blend(canvas, color);
      this[BLENDS].set(color, new BlendedSprite(canvas, this[SPRITE] || this));
    }
  }

  blend(color) {
    return this[BLENDS].get(color);
  }

  draw(context, frame, x, y, w = this[DIMENSIONS][0], h = this[DIMENSIONS][1], sx = 1, sy = 1) {
    context.save();
    context.scale(...[sx, sy].map(Math.sign));
    context.drawImage(
      this[IMAGE],
      ...this.frames[frame],
      Math.floor(x), Math.floor(y), Math.floor(w) * Math.abs(sx), Math.floor(h) * Math.abs(sy)
    );
    context.restore();
  }

  drawRotated(context, frame, x, y, angle, cx = this[DIMENSIONS][0] / 2, cy = this[DIMENSIONS][1] / 2, w = this[DIMENSIONS][0], h = this[DIMENSIONS][1], sx = 1, sy = 1) {
    context.save();
    context.translate(Math.floor(x), Math.floor(y));
    context.rotate(angle * Math.PI / 180);
    context.scale(...[sx, sy].map(Math.sign));
    context.drawImage(
      this[IMAGE],
      ...this.frames[frame],
      -Math.floor(cx), -Math.floor(cy), Math.floor(w) * Math.abs(sx), Math.floor(h) * Math.abs(sy)
    );
    context.restore();
  }
}

class BlendedSprite extends Sprite {
  constructor(canvas, sprite) {
    super(null, sprite.frames.length);
    this[SPRITE] = sprite;
    this[IMAGE] = canvas;
  }

  get frames() { return this[SPRITE].frames; }
  get dimensions() { return this[SPRITE].dimensions; }
  get loaded() { return this[SPRITE].loaded; }
  get image() { return this[IMAGE]; }
  blend(color) { return this[SPRITE].blend(color); }
  addBlend(color) { return this[SPRITE].addBlend(color); }
}

/* harmony default export */ __webpack_exports__["a"] = (Sprite);


/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_actor__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game__ = __webpack_require__(52);


/* harmony default export */ __webpack_exports__["a"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__game_engine_actor__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_1__game__["a" /* default */]));


/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__solid__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__spark__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__puff__ = __webpack_require__(114);







const accel = 1;
const gravity = 0.25;
const speed = 3;
const jump = -6;

class Player extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor() {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["o" /* player */]);

    this.haxis = 0;

    this.hsp = 0;
    this.vsp = 0;
    this.subimage = 2;

    this.position = [32, 400, 1];
    this.origin[1] = this.sprite.dimensions[1];
  }

  react(input) {
    switch(input) {
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Left:
        this.haxis -= 1;
        break;
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Right:
        this.haxis += 1;
        break;
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Up:
        this.vsp = jump;
        break;
    }
  }

  update() {
    if(this.haxis !== 0) {
      if(this.hsp === 0 && this.vsp === 0) {
        this.game.add.actor(
          new __WEBPACK_IMPORTED_MODULE_5__puff__["a" /* default */]([this.position[0] - this.haxis * 8, this.position[1]], -this.haxis)
        );
      }
      this.hsp += this.haxis * accel;
    }
    if(this.haxis !== Math.sign(this.hsp)) {
      this.hsp -= Math.sign(this.hsp) * Math.min(Math.abs(this.hsp), accel);
      if(Math.abs(this.hsp) < 1) { this.hsp = 0; }
    }
    this.hsp = Math.max(-speed, Math.min(this.hsp, speed));
    const wall = this.game.util.collision.between(this).at([this.x, this.y + this.vsp + 1]).and(__WEBPACK_IMPORTED_MODULE_3__solid__["a" /* default */]);
    if(!wall) {
      this.vsp = Math.max(Math.min(this.vsp + gravity, 10), -10);
    } else {
      this.position[1] = wall.position[1];
      if(this.vsp !== 0) {
        this.game.add.actor(
          new __WEBPACK_IMPORTED_MODULE_5__puff__["a" /* default */]([this.position[0] - 8, this.position[1]], -1),
          new __WEBPACK_IMPORTED_MODULE_5__puff__["a" /* default */]([this.position[0] + 8, this.position[1]], 1)
        );
        this.vsp = 0;
      }
    }
    if(this.hsp || this.vsp) {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
    }
    const grey = Math.floor(Math.sqrt(Math.pow(this.vsp, 2) + Math.pow(this.hsp, 2)) * 2) * 10;
    this.blend = 0xFFFFFF - 0x010101 * grey;
    this.subimage = Math.floor(Math.abs(this.hsp / (speed / 2))) * Math.sign(this.hsp) + 2;
    const spark = this.game.util.collision.between(this).and(__WEBPACK_IMPORTED_MODULE_4__spark__["a" /* default */]);
    spark && spark.useColor();
    this.haxis = 0;
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Player;



/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* (...string) => Map<string, symbol>

  Generates an enum given the keys. Each item in the enum is a number
*/

/* harmony default export */ __webpack_exports__["a"] = ((...keys) => {
  if(keys.indexOf('length') !== -1) {
    throw new Error('Cannot create an enumerator with key "length"');
  }
  let n = 0;
  const e = keys.reduce((e, key) => (e[key] = n++, e), {});
  e.length = n;
  e[Symbol.iterator] = function*() {
    for(let i of keys) {
      yield e[i];
    }
  };
  return e;
});


/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);



const [IMAGE, POSITION, LOADED] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

class Background {
  constructor(imageUrl, position = [0, 0, -1000000]) {
    this.position = position;
    this[IMAGE] = new Image();
    this[IMAGE].src = imageUrl;
    this[LOADED] = new Promise((resolve, reject) => {
      this[IMAGE].onload = resolve;
      this[IMAGE].onerror = reject;
    });
  }

  draw(context) {
    context.drawImage(this[IMAGE], ...this[POSITION].slice(0, 2));
  }

  get loaded() {
    return this[LOADED];
  }

  get position() {
    return this[POSITION];
  }

  set position(position) {
    if(Array.isArray(position)) {
      this[POSITION] = position;
      while(this[POSITION].length < 3) {
        this[POSITION].push(this[POSITION].length === 2 ? -1000000 : 0);
      }
    } else {
      throw new TypeError('Position must be an array');
    }
  }

  get dimensions() {
    return [this[IMAGE].width, this[IMAGE].height];
  }

  copy(position = this[POSITION]) {
    // this.constructor used to support Foregrounds default depth
    return new this.constructor(this[IMAGE].src, position);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Background;



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_generate__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__page_on_resize__ = __webpack_require__(0);








let playCount = 0;

const [
  CANVAS, CONTEXT, ON, END, PAUSE, UNPAUSE, VISIBLE,
  KEYFRAMES, ACTORS, BACKGROUNDS, FOREGROUNDS, PLAYING, GLOBAL
] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

class Game {
  constructor(canvas, keyframes) {
    this[CANVAS] = canvas;
    this[CONTEXT] = canvas.getContext('2d');
    this[END] = false;
    this[PAUSE] = null;
    this[UNPAUSE] = null;
    this[KEYFRAMES] = keyframes;
    this[ACTORS] = [];
    this[BACKGROUNDS] = [];
    this[FOREGROUNDS] = [];
    this[PLAYING] = false;
    this[ON] = {};
    this[GLOBAL] = {};
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__page_on_resize__["a" /* default */])(() => this.trigger('resize'));

    // for scrollin/scrollout events
    const inView = () => {
      const rect = this[CANVAS].getBoundingClientRect();
      return rect.bottom >= 0 && rect.top < (window.innerHeight || document.documentElement.clientHeight);
    }
    let scrollTimeout;
    this[VISIBLE] = inView();
    window.addEventListener('scroll', () => {
      if(scrollTimeout) { clearTimeout(scrollTimeout); }
      scrollTimeout = setTimeout(() => {
        scrollTimeout = undefined;
        if(inView() != this[VISIBLE]) {
          this[VISIBLE] = !this[VISIBLE];
          if(this[VISIBLE]) {
            this.trigger('scrollin');
          } else {
            this.trigger('scrollout');
          }
        }
      }, 50);
    });
  }

  play() {
    this.trigger(this[VISIBLE] ? 'scrollin' : 'scrollout');
    playCount++;
    let frame = 0;
    this[PLAYING] = true;
    this.trigger('start');
    const step = (now) => {
      if(!this[PLAYING]) { return; } // force quit
      const inputs = this[KEYFRAMES].get(frame++);
      if(this[END] || inputs.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* KEYFRAME_END */])) {
        this[END] = false;
        this[PLAYING] = false;
        this.trigger('end');
        return;
      }
      this[ACTORS] = this[ACTORS].sort(({position: [,,a]}, {position: [,,b]}) => a - b);
      this[CONTEXT].clearRect(0, 0, this[CANVAS].width, this[CANVAS].height);
      for(let actor of this[ACTORS]) { inputs.forEach(actor.react.bind(actor)); }
      for(let actor of this[ACTORS]) { actor.update(); }
      this.trigger('step');
      const drawables = [].concat(this[BACKGROUNDS], this[FOREGROUNDS], this[ACTORS]).sort(({position: [,,a]}, {position: [,,b]}) => a - b);
      for(let item of drawables) {
        item.draw(this[CONTEXT]);
      }
      if(this[PAUSE]) {
        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util_generate__["a" /* default */])(function*() {
          yield this[PAUSE];
          window.requestAnimationFrame(step);
        }, this);
      } else {
        window.requestAnimationFrame(step);
      }
    };
    window.requestAnimationFrame(step);
  }

  end() {
    this[END] = true;
    if(this[PAUSE]) {
      this[UNPAUSE]();
      this[PAUSE] = this[UNPAUSE] = null;
    }
  }

  pause() {
    if(!this[PAUSE]) {
      this.trigger('pause');
      this[PAUSE] = new Promise((resolve) => {
        this[UNPAUSE] = () => {
          this[PAUSE] = null;
          this.trigger('unpause');
          resolve();
        }
      });
    }
  }

  unpause() {
    if(this[PAUSE]) {
      this[UNPAUSE]();
    }
  }

  reset() {
    this[ACTORS] = [];
    this[BACKGROUNDS] = [];
    this[FOREGROUNDS] = [];
    this[PLAYING] = false;
    this[END] = false;
    if(this[PAUSE]) {
      this[UNPAUSE]();
      this[PAUSE] = this[UNPAUSE] = null;
    }
    return this;
  }

  get actors() { return this[ACTORS]; }
  get foregrounds() { return this[FOREGROUNDS]; }
  get backgrounds() { return this[BACKGROUNDS]; }

  get width() { return this[CANVAS].width; }
  get height() { return this[CANVAS].height; }
  get canvas() { return this[CANVAS]; }
  get global() { return this[GLOBAL]; }

  get add() {
    return {
      actor: (...actors) => {
        this.actors.push(...actors);
        return this;
      },
      foreground: (...foregrounds) => {
        this.foregrounds.push(...foregrounds);
        return this;
      },
      background: (...backgrounds) => {
        this.backgrounds.push(...backgrounds);
        return this;
      }
    }
  }

  on(evt, fn) {
    this[ON][evt] = this[ON][evt] ? [...this[ON][evt], fn] : [fn];
    return this;
  }

  trigger(evt) {
    for(let f of this[ON][evt] || []) { f.bind(this)(); }
  }

  get util() {
    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__["a" /* default */])(this);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Game;



/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__const__ = __webpack_require__(30);


const [INDICES, FRAMES, PAIRS] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

class Keyframes {
  constructor() {
    this[PAIRS] = [];
  }

  frame(frame, values, next = values) {
    frame *= 60;
    this[PAIRS][Math.floor(frame)] = [values, next];
    return this;
  }

  end(frame) {
    frame *= 60;
    this[PAIRS][Math.floor(frame)] =  [[__WEBPACK_IMPORTED_MODULE_1__const__["a" /* KEYFRAME_END */]], []];
    return this;
  }

  get(frame) {
    frame = Math.floor(frame);
    const keys = Object.keys(this[PAIRS]).map(x => +x);
    let values = [];
    for(let key of keys) {
      if(key >= frame) {
        if(key === frame) {
          values = this[PAIRS][key];
          values = values[0].concat(values[1]);
        }
        break;
      }
      values = this[PAIRS][key][1];
    }
    return new Set(values);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Keyframes;



/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_blue_player_svg__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_blue_player_svg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__images_blue_player_svg__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_green_player_svg__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_green_player_svg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_green_player_svg__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_purple_player_svg__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_purple_player_svg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_purple_player_svg__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_souvenir_jpg__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_souvenir_jpg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__images_souvenir_jpg__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_spring_jpg__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_spring_jpg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__images_spring_jpg__);








const blue = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__images_blue_player_svg___default.a);
/* harmony export (immutable) */ __webpack_exports__["c"] = blue;

const green = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_green_player_svg___default.a);
/* harmony export (immutable) */ __webpack_exports__["b"] = green;

const purple = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_purple_player_svg___default.a);
/* harmony export (immutable) */ __webpack_exports__["d"] = purple;

const souvenir = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_4__images_souvenir_jpg___default.a);
/* harmony export (immutable) */ __webpack_exports__["e"] = souvenir;

const spring = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_5__images_spring_jpg___default.a);
/* harmony export (immutable) */ __webpack_exports__["f"] = spring;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([].map(({loaded}) => loaded)));


/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__background__ = __webpack_require__(40);



class Foreground extends __WEBPACK_IMPORTED_MODULE_0__background__["a" /* default */] {
  constructor(imageUrl, position = [0, 0, 1000000]) {
    while(position.length < 3) {
      position.push(position.length === 2 ? 1000000 : 0);
    }
    super(imageUrl, position);
  }

  get position() {
    return super.position;
  }

  set position(position) {
    if(Array.isArray(position)) {
      while(position.length < 3) {
        position.push(position.length === 2 ? 1000000 : 0);
      }
      super.position = position;
    } else {
      throw new TypeError('Position must be an array');
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Foreground;



/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_abby_png__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__images_abby_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__images_abby_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_elliot_png__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_elliot_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_elliot_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_monster_png__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_monster_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_monster_png__);






const abby = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_1__images_abby_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["c"] = abby;

const elliot = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_elliot_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["d"] = elliot;

const monster = new __WEBPACK_IMPORTED_MODULE_0__game_engine_sprite__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_monster_png___default.a, 4);
/* harmony export (immutable) */ __webpack_exports__["b"] = monster;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([abby, elliot, monster].map(({loaded}) => loaded)));


/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__ = __webpack_require__(42);




const Special = {
  Transform: Symbol(),
  Die: Symbol(),
  Attack: Symbol()
};
/* harmony export (immutable) */ __webpack_exports__["a"] = Special;


/* harmony default export */ __webpack_exports__["b"] = (new __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__["a" /* default */]()
  .frame(0, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .frame(2, [Special.Transform], [])
  .frame(3, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Attack], [])
  .frame(3.6, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Attack], [])
  .frame(4.2, [Special.Attack], [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Defend])
  .frame(5.2, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Attack], [])
  .frame(5.6, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Attack, Special.Die], [])
  .frame(6.1, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .end(10));


/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(32);


class Solid extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {}
/* harmony export (immutable) */ __webpack_exports__["a"] = Solid;
;


/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_actor__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game__ = __webpack_require__(49);


/* harmony default export */ __webpack_exports__["a"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__game_engine_actor__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_1__game__["a" /* default */]));


/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__keyframes__ = __webpack_require__(50);




const canvas = document.querySelector('#abby-and-elliot');
canvas.width = 1800;
canvas.height = 640;
setTimeout(() =>
  canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px'
, 0);

/* harmony default export */ __webpack_exports__["a"] = (new __WEBPACK_IMPORTED_MODULE_0__game_engine__["a" /* default */](canvas, __WEBPACK_IMPORTED_MODULE_1__keyframes__["b" /* default */]));


/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__ = __webpack_require__(42);




const Special = {
  Monster: Symbol()
};
/* harmony export (immutable) */ __webpack_exports__["a"] = Special;


/* harmony default export */ __webpack_exports__["b"] = (new __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__["a" /* default */]()
  .frame(0, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .frame(4, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Talk])
  .frame(5, [Special.Monster], [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Talk])
  .frame(6, [])
  .frame(6.5, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Left])
  .end(10));


/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_enumerate__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sprites__ = __webpack_require__(33);






const Subimage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_enumerate__["a" /* default */])('Idle', 'Walk1', 'Walk2', 'Attack', 'Defend');

const speed = 6;
const imageSpeed = 60 / 8;
const attackTime = 14;

class Dave extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor() {
    super(__WEBPACK_IMPORTED_MODULE_3__sprites__["f" /* dave */]);
    this.attacking = 0;
    this.defending = false;

    this.hsp = 0;
    this.vsp = 0;

    this.animationTimer = imageSpeed;
    this.walkFrame = 0;

    this.position = [0, 470];
  }

  react(input) {
    switch(input) {
      case __WEBPACK_IMPORTED_MODULE_2__game_engine_const__["b" /* Input */].Right:
        this.hsp = speed;
        break;
      case __WEBPACK_IMPORTED_MODULE_2__game_engine_const__["b" /* Input */].Attack:
        if(!this.attacking) {
          this.attacking = attackTime;
        }
        break;
      case __WEBPACK_IMPORTED_MODULE_2__game_engine_const__["b" /* Input */].Defend:
        this.defending = true;
        this.attacking = 0;
        break;
    }
  }

  update() {
    if(this.attacking) {
      if(this.attacking > 2) {
        this.subimage = Subimage.Attack;
      } else {
        this.subimage = Subimage.Idle;
      }
      --this.attacking;
    } else if(this.defending) {
      this.subimage = Subimage.Defend;
    } else if(this.hsp || this.vsp) {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
      this.subimage = 1 + this.walkFrame;
      if(!Math.floor(--this.animationTimer)) {
        this.walkFrame = 1 - this.walkFrame;
        this.animationTimer += imageSpeed;
      }
      this.scale[0] = Math.sign(this.hsp) || this.scale[0];
    } else {
      this.subimage = Subimage.Idle;
    }
    this.hsp = this.vsp = 0;
    this.defending = false;
  }

  draw(context) {
    if(this.attacking > 2) {
      if(this.scale[0] === 1) {
        const forkPos = [this.position[0] + 112, this.position[1] + 9];
        __WEBPACK_IMPORTED_MODULE_3__sprites__["g" /* fork */].drawRotated(context, 0, ...forkPos, 90);
      } else {
        const forkPos = [this.position[0] - 112, this.position[1] + 9];
        __WEBPACK_IMPORTED_MODULE_3__sprites__["g" /* fork */].drawRotated(context, 0, ...forkPos, 270);
      }
    }
    super.draw(context);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Dave;



/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__keyframes__ = __webpack_require__(46);




const canvas = document.querySelector('#forks');
canvas.width = 1800;
canvas.height = 800;
setTimeout(() =>
  canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px'
, 0);

/* harmony default export */ __webpack_exports__["a"] = (new __WEBPACK_IMPORTED_MODULE_0__game_engine__["a" /* default */](canvas, __WEBPACK_IMPORTED_MODULE_1__keyframes__["b" /* default */]));


/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_actor__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game__ = __webpack_require__(54);


/* harmony default export */ __webpack_exports__["a"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__game_engine_actor__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_1__game__["a" /* default */]));


/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__keyframes__ = __webpack_require__(108);




const canvas = document.querySelector('#tokaido');
canvas.width = 1800;
canvas.height = 570;
setTimeout(() =>
  canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px'
, 0);

/* harmony default export */ __webpack_exports__["a"] = (new __WEBPACK_IMPORTED_MODULE_0__game_engine__["a" /* default */](canvas, __WEBPACK_IMPORTED_MODULE_1__keyframes__["a" /* default */]));


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__keyframes__ = __webpack_require__(56);




const canvas = document.querySelector('#white');
canvas.width = 1800;
canvas.height = 480;
setTimeout(() =>
  canvas.style.width = (window.IS_MOBILE ? screen.width : window.innerWidth) + 'px'
, 0);

/* harmony default export */ __webpack_exports__["a"] = (new __WEBPACK_IMPORTED_MODULE_0__game_engine__["a" /* default */](canvas, __WEBPACK_IMPORTED_MODULE_1__keyframes__["b" /* default */]));


/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__ = __webpack_require__(42);




const Special = {
  Elevator: Symbol()
};
/* harmony export (immutable) */ __webpack_exports__["a"] = Special;


/* harmony default export */ __webpack_exports__["b"] = (new __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__["a" /* default */]()
  .frame(1, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .frame(1.8, [])
  .frame(2.5, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Up], [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .frame(6.3, [])
  .frame(6.5, [Special.Elevator])
  .frame(8, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right, Special.Elevator])
  .frame(8.5, [__WEBPACK_IMPORTED_MODULE_0__game_engine_const__["b" /* Input */].Right])
  .frame(11.05, [])
  .end(11.5));


/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_pad__ = __webpack_require__(118);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(31);





const imageSpeed = 4;

class Spark extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position, color) {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["l" /* spark */]);
    this.blend = this.color = color;
    this.position = position;
    this.imageTimer = imageSpeed;
  }

  update() {
    if(!--this.imageTimer) {
      ++this.subimage;
      this.imageTimer = imageSpeed;
    }
  }

  useColor() {
    this.game.global.colors.add(this.color);
    this.game.canvas.style.backgroundColor = `#${__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_pad__["a" /* default */])(this.color.toString(16), '0', 6)}`;
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Spark;



/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/aff985841348264647979675458ffeb0.png";

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/65957b12d94a60998876926150cb5fe3.png";

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/9c073119add31ee9df0f443dc6012330.png";

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d20d7985280bcf4a37d2b2365a0bfb2f.png";

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/fb153981988f3329beaec73c3bf51682.png";

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d75501aa4ecaaec4dba170d04b264bb9.png";

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/672c55c45210ffb10b6183297173020b.png";

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/7814cb68564652c0e9ca3c3f0021e7e9.png";

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/de7abfd1d69a4e534db12016a932f203.png";

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/55f76bd832d1a930f708ee301875c2d8.png";

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d40afc8f031f80c7859dff750d8e722e.png";

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d41339c86b501dfbce72ab1d2ee1938e.png";

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/3d9245dc669061e63fcbe8573814bf9d.png";

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/037ea9be295d8ddb9325d58cc6ef578a.png";

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/880b313a0f82023b0bb3ea43cfa7402f.png";

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/292e797acf2c030971ef3fa7be96dc16.png";

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/f310c28318d1e3aa52b71f2f6de7daa3.png";

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/b848db66bf367ec4bdd32ab059bd2b02.svg";

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/10cf17e911ec0e4526cc6f64f5a373d9.jpg";

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/eb268d97713623b576cd9cdf7eb27bf9.svg";

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/605507c961cf5fc51fe6bda42ed0483e.svg";

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/c09d4086f406f3b20972faefc663d023.jpg";

/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ef9beec1e7aa98271cdf6e071794f416.jpg";

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/2b646b356de38cdcb75ba1695e940858.png";

/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/60a1df11cb235d187145765e929735e0.png";

/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/b64b8c012b47364bea2dafbe6c2d6c7b.png";

/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/53e55ac0753640617609a05925158908.png";

/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/a29febf46596526ab40efd3b9f796642.png";

/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d943d9557c168c6cc1eef4246b7a6562.png";

/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/3910ab5a5480eb1d688582054f16b807.png";

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ad7d53c4c2479f362195cc10bf68371a.png";

/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/771720c76d822674e7dd2a5768fa1dd1.png";

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/d37d376a684554681424a374241fae96.png";

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/4af89cafefe84e0a8c66cf9224bb4216.png";

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/9bed8611d445040af7a55b4154c45f00.png";

/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/49c566897f64efa1d6c93f85830811a8.png";

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/56b5ae3f382fbf7bdc201639441efed0.png";

/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "images/ddc669f759dbf0dd71aa5fad08903735.png";

/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony export (immutable) */ __webpack_exports__["a"] = Util;



const [
  GAME, EXECUTE,
  METHOD, TARGET, FLAGS,
  DISTANCE, DIRECTION, RANDOM, COLLISION,
  NEAREST, AT,
  TO_POSITION
] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

function Util(game) {
  let [method, target, flags, at] = ['', null, new Set(), null];
  const util = function(...args) { return method(...args); };
  Object.defineProperties(util, {
    to: { get() { return util; } },
    and: { get() { return util; } },
    distance: { get() { return method = distance, util; } },
    direction: { get() { return method = direction, util; } },
    random: { get() { return method = random, util; } },
    collision: { get() { return method = collision, util; } },
    integer: { get() { return flags.add('integer'), util; } },
    at: { value(where) { return at = where, flags.add('at'), util; } },
    between: { value(what) { return target = what, util; } },
    from: { value(what) { return target = what, util; } }
  });

  function toPosition(inst) {
    switch(typeof inst) {
      case 'function':
        inst = game.actors.find((x) => x instanceof inst).position;
        break;
      case 'object':
        if(inst.position) {
          inst = inst.position;
        }
        break;
    }
    return inst;
  }

  function distance(inst) {
    target = toPosition(target);
    inst = toPosition(inst);
    return Math.sqrt(Math.pow(target[0] - inst[0], 2) + Math.pow(target[1] - inst[1], 2));
  }

  function direction(inst) {
    target = toPosition(target);
    inst = toPosition(inst);
    return Math.atan2(inst[1] - target[1], inst[0] - target[0]);
  }

  function random(max) {
    const number = Math.random() * (max - target) + target;
    if(flags.has('integer')) {
      return Math.floor(number);
    }
    return number;
  }

  function collision(what) {
    const targets = [[], []];
    switch(typeof target) {
      case 'function':
        targets[0] = game.actors.filter((a) => a instanceof target);
        break;
      case 'object':
        targets[0].push(target);
        break;
    }
    switch(typeof what) {
      case 'function':
        targets[1] = game.actors.filter((a) => a instanceof what);
        break;
      case 'object':
        targets[1].push(what);
        break;
    }
    for(let a of targets[0]) {
      for(let b of targets[1]) {
        let { position: pos_a, origin: ori_a, dimensions: dim_a } = a;
        let { position: pos_b, origin: ori_b, dimensions: dim_b } = b;
        if(flags.has('at') && at) {
          pos_a = at;
        }
        pos_a = [pos_a[0] - ori_a[0], pos_a[1] - ori_a[1]];
        pos_b = [pos_b[0] - ori_b[0], pos_b[1] - ori_b[1]];
        const h = (pos_a[0] < pos_b[0] + dim_b[0] && pos_a[0] + dim_a[0] > pos_b[0]);
        const v = (pos_a[1] < pos_b[1] + dim_b[1] && pos_a[1] + dim_a[1] > pos_b[1]);
        if(h && v) {
          return b;
        }
      }
    }
    return false;
  }

  return util;
}


/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(45);




const speed = 3;
const imageSpeed = 8;
const followDistance = 120;

class Abby extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor() {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["c" /* abby */]);

    this.hsp = 0;
    this.vsp = 0;

    this.animationTimer = imageSpeed;
    this.walkFrame = 0;
    this.talking = false;

    this.position = [200, 320];
  }

  react(input) {
    switch(input) {
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Left:
        this.hsp = -speed * 2;
        break;
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Right:
        this.hsp = speed;
        break;
      case __WEBPACK_IMPORTED_MODULE_1__game_engine_const__["b" /* Input */].Talk:
        this.talking = true;
        break;
    }
  }

  update() {
    if(this.hsp || this.vsp) {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
      if(!Math.floor(--this.animationTimer)) {
        this.subimage = (this.subimage + 1) % 4;
        this.animationTimer += imageSpeed;
      }
      this.scale[0] = Math.sign(this.hsp) || this.scale[0];
    } else {
      this.subimage = 0;
      if(this.talking) {
        this.scale[0] = -1;
      } else {
        this.scale[0] = 1;
      }
    }
    this.hsp = this.vsp = 0;
  }

  draw(context) {
    __WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* elliot */].draw(
      context,
      this.subimage,
      Math.sign(this.talking ? 1 : this.scale[0]) * (this.position[0] - followDistance) - __WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* elliot */].dimensions[0] / 2,
      Math.sign(this.scale[1]) * this.position[1] - __WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* elliot */].dimensions[1] / 2,
      __WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* elliot */].dimensions[0],
      __WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* elliot */].dimensions[1],
      this.talking ? 1 : this.scale[0],
      this.scale[1]
    );
    this.talking = false;
    super.draw(context);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Abby;



/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_background__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_foreground__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_bush_png__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_bush_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_bush_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_tree_1_png__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_tree_1_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_tree_1_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_tree_2_png__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__images_tree_2_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__images_tree_2_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_grass_png__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__images_grass_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__images_grass_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_flowers_png__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__images_flowers_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__images_flowers_png__);










const bush = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_bush_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["f"] = bush;

const tree1 = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_tree_1_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["c"] = tree1;

const tree2 = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_4__images_tree_2_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["d"] = tree2;

const grass = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_5__images_grass_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["b"] = grass;

const flower = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_6__images_flowers_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["e"] = flower;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([bush, tree1, tree2, grass, flower].map(({loaded}) => loaded)));


/***/ }),
/* 99 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_enumerate__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__keyframes__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__sprites__ = __webpack_require__(45);







const speed = 3;
const imageSpeed = 8;

class Monster extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_4__sprites__["b" /* monster */]);

    this.hsp = 0;
    this.vsp = 0;

    this.animationTimer = imageSpeed;
    this.walkFrame = 0;

    this.position = [this.game.width + this.sprite.dimensions[0] / 2, 320];
    this.scale = [-1, 1];
  }

  react(input) {
    if(input === __WEBPACK_IMPORTED_MODULE_3__keyframes__["a" /* Special */].Monster) {
      this.hsp = -speed;
    }
  }

  update() {
    if(this.hsp || this.vsp) {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
      if(!Math.floor(--this.animationTimer)) {
        this.subimage = (this.subimage + 1) % 4;
        this.animationTimer += imageSpeed;
      }
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Monster;



/***/ }),
/* 100 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_background__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_foreground__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_train_png__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_train_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_train_png__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_rails_png__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__images_rails_png___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__images_rails_png__);






const train = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_train_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["b"] = train;

const rails = new __WEBPACK_IMPORTED_MODULE_1__game_engine_foreground__["a" /* default */](__WEBPACK_IMPORTED_MODULE_3__images_rails_png___default.a);
/* harmony export (immutable) */ __webpack_exports__["c"] = rails;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([train, rails].map(({loaded}) => loaded)));


/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(33);




const floorHeight = 630;

class Coal extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["e" /* coal */]);
    this.position = position;
    this.hsp = Math.floor(Math.random() * 3 + 3);
    this.vsp = -4;
    this.deltaY = Math.floor(Math.random() * 10);
  }

  update() {
    this.position[0] += this.hsp;
    this.position[1] += this.vsp;
    this.vsp += 0.5;
    if(this.position[1] >= floorHeight - this.deltaY) {
      this.vsp = -this.vsp / 2;
      if(this.hsp) {
        this.hsp -= Math.min(this.hsp, 1);
      } else {
        this.vsp = 0;
      }
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Coal;



/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(33);




class Grass extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor() {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */]);
    this.position = [__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions[0], 0, -1000001];
  }

  update() {
    this.position[0] -= 5;
    if(this.position[0] <= 0) {
      this.position[0] += __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions[0];
    }
  }

  draw(context) {
    __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].draw(context, 0, this.position[0], this.position[1], ...__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions);
    __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].draw(context, 0, this.position[0] - __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions[0], this.position[1], ...__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions);
    __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].draw(context, 0, this.position[0] + __WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions[0], this.position[1], ...__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* grass */].dimensions);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Grass;



/***/ }),
/* 103 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_enumerate__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dave__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sprites__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__keyframes__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__coal__ = __webpack_require__(101);









const speed = 2;
const imageSpeed = 60 / 8;
const knockAmount = 10;

const Subimage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_enumerate__["a" /* default */])('Walk1', 'Walk2', 'Attack');

class Monster extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_3__sprites__["d" /* monster */]);
    this.position = position;

    this.animationTimer = imageSpeed;
    this.walkFrame = 0;
    this.knock = 0;
    this.attacking = 0;
  }

  react(input) {
    switch(input) {
      case __WEBPACK_IMPORTED_MODULE_4__keyframes__["a" /* Special */].Attack:
        this.attacking = 60;
        break;
      case __WEBPACK_IMPORTED_MODULE_4__keyframes__["a" /* Special */].Die:
        for(let i = 0; i < 5; ++i) {
          this.game.actors.push(new __WEBPACK_IMPORTED_MODULE_6__coal__["a" /* default */]([this.position[0], this.position[1] + 100]));
        }
        this.destroy();
        break;
      case __WEBPACK_IMPORTED_MODULE_5__game_engine_const__["b" /* Input */].Attack:
        if(!this.knock) {
          this.knock = 10;
        }
        break;
    }
  }

  update() {
    const dir = -Math.sign(Math.abs(this.game.util.direction.from(this).to(__WEBPACK_IMPORTED_MODULE_2__dave__["a" /* default */])) - Math.PI / 2);
    if(this.knock) {
      this.position[0] -= dir * this.knock;
      --this.knock;
    } else if(this.attacking) {
      this.subimage = Subimage.Attack;
      --this.attacking;
    } else {
      if(!Math.floor(--this.animationTimer)) {
        this.walkFrame = 1 - this.walkFrame;
        this.animationTimer += imageSpeed;
      }
      this.subimage = this.walkFrame;
      if(dir) {
        this.scale[0] = -dir;
      }
      this.position[0] += speed * dir;
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Monster;



/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__keyframes__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__monster__ = __webpack_require__(103);






const transformTime = 30;

class Waitor extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(game) {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["c" /* waitor */]);
    this.position = [1000, 470];
    this.transforming = 0;
  }

  react(input) {
    if(input === __WEBPACK_IMPORTED_MODULE_2__keyframes__["a" /* Special */].Transform) {
      this.transforming = transformTime;
    }
  }

  update() {
    if(this.transforming) {
      --this.transforming;
      if(this.transforming % 4 === 0) {
        if(this.sprite === __WEBPACK_IMPORTED_MODULE_1__sprites__["d" /* monster */]) {
          this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["c" /* waitor */];
        } else {
          this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["d" /* monster */];
        }
      }
      if(this.transforming === 0) {
        this.game.actors.push(new __WEBPACK_IMPORTED_MODULE_3__monster__["a" /* default */](this.position));
        this.destroy();
      }
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Waitor;



/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_actor__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(33);





class Wheel extends __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__game_engine_actor__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_0____["default"]) {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["b" /* wheel */]);
    this.position = [...position, 500];
    this.angle = 0;
  }

  update() {
    this.angle += 360 / 120;
  }

  draw(context) {
    __WEBPACK_IMPORTED_MODULE_2__sprites__["b" /* wheel */].drawRotated(context, 0, ...this.position.slice(0, 2), this.angle);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Wheel;



/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_background__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_foreground__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_board_jpg__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__images_board_jpg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__images_board_jpg__);





const board = new __WEBPACK_IMPORTED_MODULE_0__game_engine_background__["a" /* default */](__WEBPACK_IMPORTED_MODULE_2__images_board_jpg___default.a);
/* harmony export (immutable) */ __webpack_exports__["b"] = board;


/* harmony default export */ __webpack_exports__["a"] = (Promise.all([board].map(({loaded}) => loaded)));


/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(43);




const enterTime = 45;
const waitTime = 105;
const exitTime = 150;

class Card extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor() {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["e" /* souvenir */]);
    this.position = [this.game.width, -this.sprite.dimensions[1], 10000];
    this.travelTimer = null;
  }

  react(input) {
    if(input === __WEBPACK_IMPORTED_MODULE_1__sprites__["f" /* spring */] || input === __WEBPACK_IMPORTED_MODULE_1__sprites__["e" /* souvenir */]) {
      this.sprite = input;
      this.position = [this.game.width, -this.sprite.dimensions[1], 10000];
      this.travelTimer = 0;
    }
  }

  update() {
    if(this.travelTimer !== null) {
      let previous, destination, amt;
      ++this.travelTimer;
      if(this.travelTimer < enterTime) {
        previous = [this.game.width, -this.sprite.dimensions[1], 10000]
        destination = [this.game.width / 2, this.game.height / 2];
        amt = Math.pow(Math.sin(this.travelTimer * Math.PI / 2 / enterTime), 2);
      } else if(this.travelTimer > waitTime && this.travelTimer < exitTime) {
        previous = [this.game.width / 2, this.game.height / 2];
        destination = [this.game.width / 2, this.game.height + this.sprite.dimensions[1]];
        amt = Math.pow(Math.sin((this.travelTimer - waitTime) * Math.PI / 2 / (exitTime - waitTime)), 2);
      } else {
        if(this.travelTimer > exitTime) {
          this.travelTimer = null;
        }
        return;
      }
      const [dx, dy] = [destination[0] - previous[0], destination[1] - previous[1]];
      this.x = previous[0] + dx * amt;
      this.y = previous[1] + dy * amt;
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Card;



/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game_engine_const__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(43);





/* harmony default export */ __webpack_exports__["a"] = (new __WEBPACK_IMPORTED_MODULE_1__game_engine_keyframes__["a" /* default */]()
  .frame(1, [__WEBPACK_IMPORTED_MODULE_2__sprites__["d" /* purple */]], [])
  .frame(2, [__WEBPACK_IMPORTED_MODULE_2__sprites__["e" /* souvenir */]], [])
  .frame(7, [__WEBPACK_IMPORTED_MODULE_2__sprites__["c" /* blue */]], [])
  .frame(8, [__WEBPACK_IMPORTED_MODULE_2__sprites__["f" /* spring */]], [])
  .end(11));


/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(43);




const travelTime = 90;

class Player extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(sprite, position) {
    super(sprite);
    this.position = position;
    this.previous = this.position;
    this.destination = null;
    this.travelTimer = 0;
  }

  react(input) {
    if(input === this.sprite) {
      switch(this.sprite) {
        case __WEBPACK_IMPORTED_MODULE_1__sprites__["d" /* purple */]:
          this.destination = [166, 205];
          break;
        case __WEBPACK_IMPORTED_MODULE_1__sprites__["c" /* blue */]:
          this.destination = [434, 210];
          break;
      }
    }
  }

  update() {
    this.z = this.y;
    if(this.destination !== null) {
      const amt = Math.pow(Math.sin(++this.travelTimer * Math.PI / 2 / travelTime), 2);
      const [dx, dy] = [this.destination[0] - this.previous[0], this.destination[1] - this.previous[1]];
      this.x = this.previous[0] + dx * amt;
      this.y = this.previous[1] + dy * amt;
      if(this.travelTimer >= travelTime) {
        this.travelTimer = 0;
        this.previous = this.position;
        this.destination = null;
      }
    }
  }

  draw(context) {
    context.drawImage(this.sprite.image, ...this.position.slice(0, 2), 50, 80);
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Player;



/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__const__ = __webpack_require__(34);








const [PLAYER] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];
const imageSpeed = 6;

class Bird extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_3__sprites__["c" /* bird */]);
    this.position = position;
    this.origin = [this.sprite.dimensions[0] / 2, this.sprite.dimensions[1]];
    this.color = [__WEBPACK_IMPORTED_MODULE_4__const__["a" /* Color */].Red, __WEBPACK_IMPORTED_MODULE_4__const__["a" /* Color */].Green, __WEBPACK_IMPORTED_MODULE_4__const__["a" /* Color */].White][this.game.util.random.integer.from(0).to(3)];
    this.hsp = 0;
    this.vsp = 0;
  }

  get player() {
    return this[PLAYER] || (this[PLAYER] = this.game.actors.find((a) => a instanceof __WEBPACK_IMPORTED_MODULE_2__player__["a" /* default */]));
  }

  update() {
    if(this.sprite === __WEBPACK_IMPORTED_MODULE_3__sprites__["c" /* bird */]) {
      if(this.game.util.random.integer.from(0).to(90) === 0) {
        this.imageTimer = imageSpeed;
      }
      if(this.game.util.distance.from(this).to(this.player) < 32) {
        this.vsp = -2;
        this.hsp = 1;
        this.sprite = __WEBPACK_IMPORTED_MODULE_3__sprites__["d" /* bird_flying */];
        this.imageTimer = imageSpeed;
      }
    } else {
      this.position[0] += this.hsp;
      this.position[1] += this.vsp;
      if(this.position[1] < 0) {
        this.destroy();
      }
    }
    if(this.imageTimer) {
      --this.imageTimer;
      if(!this.imageTimer) {
        ++this.subimage;
        if(this.sprite === __WEBPACK_IMPORTED_MODULE_3__sprites__["c" /* bird */] && this.subimage === 0) {
          this.subimage = 0;
        } else {
          this.imageTimer = imageSpeed;
        }
      }
    }
    if(this.game.global.colors.has(this.color)) {
      this.blend = this.color;
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Bird;



/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__const__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player__ = __webpack_require__(38);








const [PLAYER] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

const imageSpeed = 3;
const moveInterval = 4;
class Butterfly extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["b" /* butterfly */]);
    this.position = position;
    this.startPosition = [...this.position];
    this.color = [__WEBPACK_IMPORTED_MODULE_3__const__["a" /* Color */].Red, __WEBPACK_IMPORTED_MODULE_3__const__["a" /* Color */].Green, __WEBPACK_IMPORTED_MODULE_3__const__["a" /* Color */].White][this.game.util.random.integer.between(0).and(3)];
    this.imageTimer = imageSpeed;
    this.moveTimer = moveInterval;
  }

  get player() {
    return this[PLAYER] || (this[PLAYER] = this.game.actors.find((a) => a instanceof __WEBPACK_IMPORTED_MODULE_4__player__["a" /* default */]));
  }

  update() {
    if(!--this.imageTimer) {
      this.imageTimer = imageSpeed;
      ++this.subimage;
    }
    if(!--this.moveTimer) {
      this.moveTimer = moveInterval;
      let [xmin, xmax, ymin, ymax] = [-2, 2, -2, 2];
      if(this.game.util.distance.from(this).to(this.player) < 48) {
        const [dx, dy] = [
          this.x - this.player.position[0],
          this.y - this.player.position[1]
        ]
        if(Math.abs(dx) < Math.abs(dy)) {
          if(dx > 0) {
            xmin += 3;
            xmax += 3
          } else {
            xmin -= 3;
            xmax -= 3;
          }
      } else {
          if(dy > 0) {
            ymin += 3;
            ymax += 3;
          } else {
            ymin -= 3;
            ymax -= 3;
          }
        }
      } else if(this.game.util.distance.from(this).to(this.startPosition) >= 32) {
        const [dx, dy] = [
          this.x - this.startPosition[0],
          this.y - this.startPosition[1]
        ];
        if(Math.abs(dx) > 24) {
          if(dx > 0) {
            xmax -= 3;
          } else {
            xmin += 3;
          }
        }
        if(Math.abs(dy) > 24) {
          if(dy > 0) {
            ymax -= 3;
          } else {
            ymin += 3;
          }
        }
      }
      this.x += this.game.util.random.integer.between(xmin).and(xmax);
      this.y += this.game.util.random.integer.between(ymin).and(ymax);
    }
    if(this.game.global.colors.has(this.color)) {
      this.blend = this.color;
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Butterfly;



/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player__ = __webpack_require__(38);






const [PLAYER] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

class Door extends __WEBPACK_IMPORTED_MODULE_1__actor__["a" /* default */] {
  constructor(position, color) {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["k" /* door */]);
    this.position = position;
    this.color = color;
    this.origin[1] = this.sprite.dimensions[1];
  }

  get player() {
    return this[PLAYER] || (this[PLAYER] = this.game.actors.find((a) => a instanceof __WEBPACK_IMPORTED_MODULE_3__player__["a" /* default */]));
  }

  update() {
    this.alpha = this.game.util.collision.between(this).and(this.player) ? this.alpha + 0.1 : this.alpha - 0.1;
    this.alpha = Math.max(0.5, Math.min(this.alpha, 1));
    if(this.game.global.colors.has(this.color)) {
      this.blend = this.color;
    }
  }

  draw(context) {
    if(this.blend === this.color) {
      super.draw(context);
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Door;



/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__const__ = __webpack_require__(34);





class Flower extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["e" /* flower_w */]);
    this.position = position;
    this.position[2] = -1;
    this.origin[1] = this.sprite.dimensions[1];
  }

  update() {
    if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Green)) {
      this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["f" /* flower_g */];
    } else if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Red)) {
      this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["g" /* flower_r */];
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Flower;



/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(31);




const imageSpeed = 4;
class Puff extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(position, direction) {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["p" /* puff */]);
    if(direction === 1) {
      this.subimage = 4;
    }
    this.position = position;
    this.imageTimer = imageSpeed;
    this.origin[1] = this.sprite.dimensions[1];
  }

  update() {
    if(!--this.imageTimer) {
      this.imageTimer = imageSpeed;
      ++this.subimage;
      if(this.subimage === 4 || this.subimage === 0) {
        this.destroy();
      }
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Puff;



/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__solid__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__const__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__keyframes__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__player__ = __webpack_require__(38);









const [PLAYER] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

const maxSparks = 16;
class Switch extends __WEBPACK_IMPORTED_MODULE_1__solid__["a" /* default */] {
  constructor(position, vdist) {
    super(__WEBPACK_IMPORTED_MODULE_2__sprites__["m" /* switch_platform */]);
    this.position = position;
    this.origin[0] = 0;
    this.ystart = this.y;
    this.vdist = vdist;
    this.sparks = [];
  }

  get player() {
    return this[PLAYER] || (this[PLAYER] = this.game.actors.find((a) => a instanceof __WEBPACK_IMPORTED_MODULE_5__player__["a" /* default */]));
  }

  react(input) {
    if(input === __WEBPACK_IMPORTED_MODULE_4__keyframes__["a" /* Special */].Elevator && this.game.util.collision.between(this).and(this.player)) {
      this.active = true;
    }
  }

  update() {
    if(this.active) {
      if(this.y > this.ystart - this.vdist) {
        this.y -= 2;
        this.player.y -= 2;
        this.sparks.unshift([this.game.util.random.integer.between(this.x).and(this.x + this.dimensions[0]), this.y + 16]);
      } else {
        this.sparks = [];
      }
      this.subimage = 1;
      this.active = false;
    } else {
      this.subimage = 0;
      if(this.y < this.ystart) {
        this.y += 2;
        this.sparks.unshift([this.game.util.random.integer.between(this.x).and(this.x + this.dimensions[0]), this.y]);
      } else {
        this.sparks = [];
      }
    }
    if(this.sparks.length > maxSparks) {
      this.sparks = this.sparks.slice(0, maxSparks);
    }
  }

  draw(context) {
    super.draw(context);
    if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_3__const__["a" /* Color */].Green) && this.subimage === 1) {
      context.fillStyle = '#008000';
    } else if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_3__const__["a" /* Color */].Red)) {
      context.fillStyle = '#FF0000';
    } else {
      context.fillStyle = '#FFFFFF';
    }
    context.beginPath();
    context.arc(this.x + 32, this.y, 2, 0, Math.PI * 2);
    context.fill();
    context.fillStyle = '#FFFFFF';
    for(let spark of this.sparks) {
      context.fillRect(...spark, 1, 1);
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Switch;



/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__actor__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sprites__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__const__ = __webpack_require__(34);





class Tree extends __WEBPACK_IMPORTED_MODULE_0__actor__["a" /* default */] {
  constructor(position) {
    super(__WEBPACK_IMPORTED_MODULE_1__sprites__["h" /* tree_w */]);
    this.position = position;
    this.position[2] = -1;
    this.origin[1] = this.sprite.dimensions[1];
  }

  update() {
    if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Green)) {
      this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["i" /* tree_g */];
    } else if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Red)) {
      this.sprite = __WEBPACK_IMPORTED_MODULE_1__sprites__["j" /* tree_r */];
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Tree;



/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_symbolic__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__solid__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__const__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sprites__ = __webpack_require__(31);







const [DIMENSIONS] = __WEBPACK_IMPORTED_MODULE_0__util_symbolic__["a" /* default */];

class Wall extends __WEBPACK_IMPORTED_MODULE_1__solid__["a" /* default */] {
  constructor(position, dimensions, hasGrass = true) {
    super();
    this.position = [...position, -10];
    this[DIMENSIONS] = dimensions;
    this.grass = [];
    if(hasGrass) {
      while(this.grass.length < this.dimensions[0] / __WEBPACK_IMPORTED_MODULE_3__sprites__["n" /* grass */].dimensions[0]) {
        this.grass.push(this.game.util.random.integer.between(0).and(5));
      }
    }
  }

  get dimensions() {
    return this[DIMENSIONS];
  }

  draw(context) {
    context.fillStyle = '#ffffff';
    context.fillRect(...this.position.slice(0, 2), ...this.dimensions);
    if(this.game.global.colors.has(__WEBPACK_IMPORTED_MODULE_2__const__["a" /* Color */].Green)) {
      for(let i = 0; i < this.grass.length; ++i) {
        __WEBPACK_IMPORTED_MODULE_3__sprites__["n" /* grass */].draw(
          context, this.grass[i],
          this.position[0] + i * __WEBPACK_IMPORTED_MODULE_3__sprites__["n" /* grass */].dimensions[0], this.position[1] - __WEBPACK_IMPORTED_MODULE_3__sprites__["n" /* grass */].dimensions[1]
        );
      }
    }
  }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Wall;



/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* (string, string, number[, boolean]) => string

  Pads str with char until it has reached the required len. Optionally can start
  from the end by specifying end to be true.
*/

/* harmony default export */ __webpack_exports__["a"] = ((str, char, len, end = false) => {
  while(str.length < len) {
    if(end) {
      str += char[0];
    } else {
      str = char[0] + str;
    }
  }
  return str;
});


/***/ })
]));